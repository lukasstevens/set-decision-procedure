<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory HereditarilyFinite.Rank</title>
</head>


<body>
<div class="head">
<h1>Theory HereditarilyFinite.Rank</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>chapter</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>V-Sets, Epsilon Closure, Ranks</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="HereditarilyFinite.Rank.html"><span>Rank</span></a><span> </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="HereditarilyFinite.Ordinal.html"><span>Ordinal</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>V-sets</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Definition 4.1</span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Rank.Vset_def|fact"><span class="entity_def" id="Rank.Vset_def|thm"><span class="entity_def" id="Rank.Vset_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Rank.Vset|const"><span>Vset</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hf|type"><span>hf</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hf|type"><span>hf</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Vset</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.ord_rec|const"><span>ord_rec</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.HPow|const"><span>HPow</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>z</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.Vset_0|fact"><span class="entity_def" id="Rank.Vset_0|thm"><span>Vset_0</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_def|fact"><span>Vset_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.Vset_succ|fact"><span class="entity_def" id="Rank.Vset_succ|thm"><span>Vset_succ</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.succ|const"><span>succ</span></a><span> </span><span class="free"><span>k</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.HPow|const"><span>HPow</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span> </span><span class="free"><span>k</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_def|fact"><span>Vset_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.Vset_non|fact"><span class="entity_def" id="Rank.Vset_non|thm"><span>Vset_non</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_def|fact"><span>Vset_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Theorem 4.2(a)</span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_439..444">lemma</span></span></span><span> </span><span class="entity_def" id="Rank.Vset_mono_strict|fact"><span class="entity_def" id="Rank.Vset_mono_strict|thm"><span>Vset_mono_strict</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem|const"><span><span class="hidden">❙</span><b>∈</b></span></a></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>n</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord_in_Ord|fact"><span>Ord_in_Ord</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#offset_439..444"><span>assms</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem|const"><span><span class="hidden">❙</span><b>∈</b></span></a></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>m</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord_induct2|fact"><span>Ord_induct2</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>0</span><span> </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.HPow_iff|fact"><span>HPow_iff</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord_cases|fact"><span>Ord_cases</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_0|fact"><span>Vset_0</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_succ|fact"><span>Vset_succ</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hemptyE|fact"><span>hemptyE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.order_class.le_imp_less_or_eq|fact"><span>le_imp_less_or_eq</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.zero_le|fact"><span>zero_le</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>succ</span><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="skolem"><span>m</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord_cases|fact"><span>Ord_cases</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hemptyE|fact"><span>hemptyE</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.HPow_mono_strict_iff|fact"><span>HPow_mono_strict_iff</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_succ|fact"><span>Vset_succ</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.mem_succ_iff|fact"><span>mem_succ_iff</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#offset_439..444"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.Vset_mono|fact"><span class="entity_def" id="Rank.Vset_mono|thm"><span>Vset_mono</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⟦</span></span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>;</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord_linear2|fact"><span>Ord_linear2</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_mono_strict|fact"><span>Vset_mono_strict</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_non|fact"><span>Vset_non</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.order_class.order.order_iff_strict|fact"><span>order.order_iff_strict</span></a><span>
            </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.order_class.order.antisym|fact"><span>order_class.order.antisym</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.zero_le|fact"><span>zero_le</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Theorem 4.2(b)</span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.Vset_Transset|fact"><span class="entity_def" id="Rank.Vset_Transset|thm"><span>Vset_Transset</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Transset|const"><span>Transset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord_induct2|fact"><span>Ord_induct2</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Transset_def|fact"><span>Transset_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.Ord_sup|fact"><span class="entity_def" id="Rank.Ord_sup|thm"><span>Ord_sup</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hunion|const"><span>⊔</span></a></span><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord_linear_le|fact"><span>Ord_linear_le</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.semilattice_sup_class.le_iff_sup|fact"><span>le_iff_sup</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.semilattice_sup_class.sup_absorb1|fact"><span>sup_absorb1</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.Ord_inf|fact"><span class="entity_def" id="Rank.Ord_inf|thm"><span>Ord_inf</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hinter|const"><span>⊓</span></a></span><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord_linear_le|fact"><span>Ord_linear_le</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.semilattice_inf_class.inf_absorb2|fact"><span>inf_absorb2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.semilattice_inf_class.le_iff_inf|fact"><span>le_iff_inf</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Theorem 4.3</span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.Vset_universal|fact"><span class="entity_def" id="Rank.Vset_universal|thm"><span>Vset_universal</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem|const"><span><span class="hidden">❙</span><b>∈</b></span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span> </span><span class="bound"><span>n</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hf_induct|fact"><span>hf_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>0</span><span> </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.HPow_iff|fact"><span>HPow_iff</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord_0|fact"><span>Ord_0</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord_succ|fact"><span>Ord_succ</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_succ|fact"><span>Vset_succ</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.zero_le|fact"><span>zero_le</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>hinsert</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>na</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>nb</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_1691..1694">nab</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="skolem"><span>na</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem|const"><span><span class="hidden">❙</span><b>∈</b></span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span> </span><span class="skolem"><span>na</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="skolem"><span>nb</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem|const"><span><span class="hidden">❙</span><b>∈</b></span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span> </span><span class="skolem"><span>nb</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span> </span><span class="skolem"><span>nb</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_Transset|fact"><span>Vset_Transset</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>nb</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Transset_def|fact"><span>Transset_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>...</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>na</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hunion|const"><span>⊔</span></a></span><span> </span><span class="skolem"><span>nb</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#offset_1691..1694"><span>nab</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Ord_sup|fact"><span>Ord_sup</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_mono|fact"><span>Vset_mono</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.semilattice_sup_class.sup_ge2|fact"><span>sup_ge2</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.inserthf|const"><span>◃</span></a></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem|const"><span><span class="hidden">❙</span><b>∈</b></span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.succ|const"><span>succ</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>na</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hunion|const"><span>⊔</span></a></span><span> </span><span class="skolem"><span>nb</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#offset_1691..1694"><span>nab</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Ord_sup|fact"><span>Ord_sup</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_mono|fact"><span>Vset_mono</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.semilattice_sup_class.sup_ge1|fact"><span>sup_ge1</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.rev_hsubsetD|fact"><span>rev_hsubsetD</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#offset_1691..1694"><span>nab</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord_succ|fact"><span>Ord_succ</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Ord_sup|fact"><span>Ord_sup</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Least Ordinal Operator</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Definition 4.4. For every x, let rank(x) be the least ordinal n such that...</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.Ord_minimal|fact"><span class="entity_def" id="Rank.Ord_minimal|thm"><span>Ord_minimal</span></span></span><span class="main"><span>:</span></span><span>
   </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>k</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord_induct|fact"><span>Ord_induct</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord_linear2|fact"><span>Ord_linear2</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.OrdLeastI|fact"><span class="entity_def" id="Rank.OrdLeastI|thm"><span>OrdLeastI</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.Least|const"><span>LEAST</span></a></span><span> </span><span class="bound"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.Least|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>lifting</span><span class="main"><span class="main"><span>,</span></span></span><span> no_types</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.order_class.Least_equality|fact"><span>Least_equality</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Ord_minimal|fact"><span>Ord_minimal</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.OrdLeast_le|fact"><span class="entity_def" id="Rank.OrdLeast_le|thm"><span>OrdLeast_le</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.Least|const"><span>LEAST</span></a></span><span> </span><span class="bound"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.Least|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>k</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>lifting</span><span class="main"><span class="main"><span>,</span></span></span><span> no_types</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.order_class.Least_equality|fact"><span>Least_equality</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Ord_minimal|fact"><span>Ord_minimal</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2596..2601">lemma</span></span></span><span> </span><span class="entity_def" id="Rank.OrdLeast_Ord|fact"><span class="entity_def" id="Rank.OrdLeast_Ord|thm"><span>OrdLeast_Ord</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="free"><span>k</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>k</span></span><span>"</span></span></span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.Least|const"><span>LEAST</span></a></span><span> </span><span class="bound"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.Least|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>n</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="skolem"><span>n</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="skolem"><span>n</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="bound"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Ord_minimal|fact"><span>Ord_minimal</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#offset_2596..2601"><span>assms</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.order_class.Least_equality|fact"><span>Least_equality</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Rank Function</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Rank.rank_def|fact"><span class="entity_def" id="Rank.rank_def|thm"><span class="entity_def" id="Rank.rank_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Rank.rank|const"><span>rank</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hf|type"><span>hf</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hf|type"><span>hf</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>rank</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.Least|const"><span>LEAST</span></a></span><span> </span><span class="bound"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.Least|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem|const"><span><span class="hidden">❙</span><b>∈</b></span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.succ|const"><span>succ</span></a><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank_def|fact"><span>rank_def</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.HPow_iff|fact"><span>HPow_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.order_class.Least_equality|fact"><span>Least_equality</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord_0|fact"><span>Ord_0</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_succ|fact"><span>Vset_succ</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.zero_le|fact"><span>zero_le</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.in_Vset_rank|fact"><span class="entity_def" id="Rank.in_Vset_rank|thm"><span>in_Vset_rank</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem|const"><span><span class="hidden">❙</span><b>∈</b></span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.succ|const"><span>succ</span></a><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_universal|fact"><span>Vset_universal</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>a</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>na</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span>na</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="skolem"><span>na</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem|const"><span><span class="hidden">❙</span><b>∈</b></span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.succ|const"><span>succ</span></a><span> </span><span class="skolem"><span>na</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord_Union|fact"><span>Ord_Union</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord_in_Ord|fact"><span>Ord_in_Ord</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord_pred|fact"><span>Ord_pred</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_0|fact"><span>Vset_0</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hempty_iff|fact"><span>hempty_iff</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank_def|fact"><span>rank_def</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.OrdLeastI|fact"><span>OrdLeastI</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.Ord_rank|fact"><span class="entity_def" id="Rank.Ord_rank|thm"><span>Ord_rank</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord_succ_iff|fact"><span>Ord_succ_iff</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_non|fact"><span>Vset_non</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hemptyE|fact"><span>hemptyE</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.in_Vset_rank|fact"><span>in_Vset_rank</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.le_Vset_rank|fact"><span class="entity_def" id="Rank.le_Vset_rank|thm"><span>le_Vset_rank</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.HPow_iff|fact"><span>HPow_iff</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord_succ_iff|fact"><span>Ord_succ_iff</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_non|fact"><span>Vset_non</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_succ|fact"><span>Vset_succ</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hemptyE|fact"><span>hemptyE</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.in_Vset_rank|fact"><span>in_Vset_rank</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.VsetI|fact"><span class="entity_def" id="Rank.VsetI|thm"><span>VsetI</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.succ|const"><span>succ</span></a><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem|const"><span><span class="hidden">❙</span><b>∈</b></span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span> </span><span class="free"><span>k</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_mono|fact"><span>Vset_mono</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hsubsetCE|fact"><span>hsubsetCE</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.in_Vset_rank|fact"><span>in_Vset_rank</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.Vset_succ_rank_le|fact"><span class="entity_def" id="Rank.Vset_succ_rank_le|thm"><span>Vset_succ_rank_le</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem|const"><span><span class="hidden">❙</span><b>∈</b></span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.succ|const"><span>succ</span></a><span> </span><span class="free"><span>k</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>k</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank_def|fact"><span>rank_def</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.OrdLeast_le|fact"><span>OrdLeast_le</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.Vset_rank_lt|fact"><span class="entity_def" id="Rank.Vset_rank_lt|thm"><span>Vset_rank_lt</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_3774..3775">a</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem|const"><span><span class="hidden">❙</span><b>∈</b></span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span> </span><span class="free"><span>k</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>k</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span>k</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="free"><span>k</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>k</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord_cases|fact"><span>Ord_cases</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>0</span><span> </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#offset_3774..3775"><span>a</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>succ</span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#offset_3774..3775"><span>a</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord_lt_succ_iff_le|fact"><span>Ord_lt_succ_iff_le</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord_succ_iff|fact"><span>Ord_succ_iff</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_non|fact"><span>Vset_non</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_succ_rank_le|fact"><span>Vset_succ_rank_le</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hemptyE|fact"><span>hemptyE</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.in_Vset_rank|fact"><span>in_Vset_rank</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#offset_3774..3775"><span>a</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_non|fact"><span>Vset_non</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hemptyE|fact"><span>hemptyE</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Theorem 4.5</span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>theorem</span></span></span><span> </span><span class="entity_def" id="Rank.rank_lt|fact"><span class="entity_def" id="Rank.rank_lt|thm"><span>rank_lt</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem|const"><span><span class="hidden">❙</span><b>∈</b></span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_rank_lt|fact"><span>Vset_rank_lt</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hsubsetD|fact"><span>hsubsetD</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.le_Vset_rank|fact"><span>le_Vset_rank</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.rank_mono|fact"><span class="entity_def" id="Rank.rank_mono|thm"><span>rank_mono</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.HPow_iff|fact"><span>HPow_iff</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Ord_rank|fact"><span>Ord_rank</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_succ|fact"><span>Vset_succ</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_succ_rank_le|fact"><span>Vset_succ_rank_le</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.preorder_class.dual_order.trans|fact"><span>dual_order.trans</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.le_Vset_rank|fact"><span>le_Vset_rank</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.rank_sup|fact"><span class="entity_def" id="Rank.rank_sup|thm"><span>rank_sup</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hunion|const"><span>⊔</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hunion|const"><span>⊔</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.antisym|fact"><span>antisym</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_4496..4497">o</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hunion|const"><span>⊔</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hunion|const"><span>⊔</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hunion|const"><span>⊔</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_succ_rank_le|fact"><span>Vset_succ_rank_le</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.le_Vset_rank|fact"><span>le_Vset_rank</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.preorder_class.order_trans|fact"><span>order_trans</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_mono|fact"><span>Vset_mono</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.semilattice_sup_class.sup_ge1|fact"><span>sup_ge1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.semilattice_sup_class.sup_ge2|fact"><span>sup_ge2</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#offset_4496..4497"><span>o</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hunion|const"><span>⊔</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hunion|const"><span>⊔</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.semilattice_sup_class.le_supI|fact"><span>le_supI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.semilattice_sup_class.le_supI1|fact"><span>le_supI1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.semilattice_sup_class.le_supI2|fact"><span>le_supI2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.order_eq_refl|fact"><span>order_eq_refl</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank_mono|fact"><span>rank_mono</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.rank_singleton|fact"><span class="entity_def" id="Rank.rank_singleton|thm"><span>rank_singleton</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="main"><span>⦃</span></span><span class="free"><span>a</span></span><span class="main"><span>⦄</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.succ|const"><span>succ</span></a><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_4881..4884">oba</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord|const"><span>Ord</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.succ|const"><span>succ</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.antisym|fact"><span>antisym</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="main"><span>⦃</span></span><span class="free"><span>a</span></span><span class="main"><span>⦄</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.succ|const"><span>succ</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_succ_rank_le|fact"><span>Vset_succ_rank_le</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.HPow_iff|fact"><span>HPow_iff</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_succ|fact"><span>Vset_succ</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.in_Vset_rank|fact"><span>in_Vset_rank</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.less_eq_insert1_iff|fact"><span>less_eq_insert1_iff</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#offset_4881..4884"><span>oba</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.zero_le|fact"><span>zero_le</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.succ|const"><span>succ</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span class="main"><span>⦃</span></span><span class="free"><span>a</span></span><span class="main"><span>⦄</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord_linear_le|fact"><span>Ord_linear_le</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord_lt_succ_iff_le|fact"><span>Ord_lt_succ_iff_le</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank_lt|fact"><span>rank_lt</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Ord_rank|fact"><span>Ord_rank</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem_hinsert|fact"><span>hmem_hinsert</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.preorder_class.less_le_not_le|fact"><span>less_le_not_le</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#offset_4881..4884"><span>oba</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.rank_hinsert|fact"><span class="entity_def" id="Rank.rank_hinsert|thm"><span>rank_hinsert</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.inserthf|const"><span>◃</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hunion|const"><span>⊔</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.succ|const"><span>succ</span></a><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hinsert_eq_sup|fact"><span>hinsert_eq_sup</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank_singleton|fact"><span>rank_singleton</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank_sup|fact"><span>rank_sup</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Definition 4.6. The transitive closure of </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term</span></span><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span class="antiquote"><span>}</span></span></span><span> is
</span><span> the minimal transitive set </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term</span></span><span> </span><span class="quoted"><span class="free"><span>y</span></span></span><span class="antiquote"><span>}</span></span></span><span> such that </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>term</span></span><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span class="free"><span>y</span></span><span>"</span></span><span class="antiquote"><span>}</span></span></span><span>.</span><span>›</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Epsilon Closure</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Rank.eclose_def|fact"><span class="entity_def" id="Rank.eclose_def|thm"><span class="entity_def" id="Rank.eclose_def_raw|axiom"><span>definition</span></span></span></span></span></span><span>
  </span><span class="entity"><span class="entity_def" id="Rank.eclose|const"><span>eclose</span></span></span><span>    </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hf|type"><span>hf</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hf|type"><span>hf</span></a><span>"</span></span></span><span>  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eclose</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.HInter|const"><span>⨅</span></a></span><span> </span><span class="main"><span>⦃</span></span><span class="bound"><span>Y</span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>∈</b></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.HPow|const"><span>HPow</span></a><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Transset|const"><span>Transset</span></a><span> </span><span class="bound"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>X</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span class="bound"><span>Y</span></span><span class="main"><span>⦄</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.eclose_facts|fact"><span class="entity_def" id="Rank.eclose_facts(2)|thm"><span class="entity_def" id="Rank.eclose_facts(1)|thm"><span>eclose_facts</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="entity_def" id="Rank.Transset_eclose|fact"><span class="entity_def" id="Rank.Transset_eclose|thm"><span>Transset_eclose</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Transset|const"><span>Transset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span>X</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>  </span><span class="entity_def" id="Rank.le_eclose|fact"><span class="entity_def" id="Rank.le_eclose|thm"><span>le_eclose</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_5755..5757">nz</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⦃</span></span><span class="bound"><span>Y</span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>∈</b></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.HPow|const"><span>HPow</span></a><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span>X</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Transset|const"><span>Transset</span></a><span> </span><span class="bound"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>X</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span class="bound"><span>Y</span></span><span class="main"><span>⦄</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose_def|fact"><span>eclose_def</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hempty_iff|fact"><span>hempty_iff</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Ord_rank|fact"><span>Ord_rank</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_Transset|fact"><span>Vset_Transset</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.le_Vset_rank|fact"><span>le_Vset_rank</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.preorder_class.order_refl|fact"><span>order_refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Transset|const"><span>Transset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span>X</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span>X</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.HInter_iff|fact"><span>HInter_iff</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#offset_5755..5757"><span>nz</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose_def|fact"><span>eclose_def</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Transset_def|fact"><span>Transset_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.eclose_minimal|fact"><span class="entity_def" id="Rank.eclose_minimal|thm"><span>eclose_minimal</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_6056..6057">Y</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Transset|const"><span>Transset</span></a><span> </span><span class="free"><span>Y</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>X</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span class="free"><span>Y</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>Y</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⦃</span></span><span class="bound"><span>Y</span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>∈</b></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.HPow|const"><span>HPow</span></a><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span>X</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Transset|const"><span>Transset</span></a><span> </span><span class="bound"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span>X</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span class="bound"><span>Y</span></span><span class="main"><span>⦄</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose_def|fact"><span>eclose_def</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hempty_iff|fact"><span>hempty_iff</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Ord_rank|fact"><span>Ord_rank</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_Transset|fact"><span>Vset_Transset</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.le_Vset_rank|fact"><span>le_Vset_rank</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.preorder_class.order_refl|fact"><span>order_refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Transset|const"><span>Transset</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hinter|const"><span>⊓</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span>X</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Ord_rank|fact"><span>Ord_rank</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Transset_inf|fact"><span>Transset_inf</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_Transset|fact"><span>Vset_Transset</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#offset_6056..6057"><span>Y</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hinter|const"><span>⊓</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset|const"><span>Vset</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span>X</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#offset_6056..6057"><span>Y</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.le_Vset_rank|fact"><span>le_Vset_rank</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.semilattice_inf_class.le_inf_iff|fact"><span>le_inf_iff</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>Y</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose_def|fact"><span>eclose_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hinter_iff|fact"><span>hinter_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.semilattice_inf_class.le_inf_iff|fact"><span>le_inf_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.preorder_class.order_refl|fact"><span>order_refl</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.eclose_0|fact"><span class="entity_def" id="Rank.eclose_0|thm"><span>eclose_0</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord_0|fact"><span>Ord_0</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_0|fact"><span>Vset_0</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Vset_Transset|fact"><span>Vset_Transset</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose_minimal|fact"><span>eclose_minimal</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.less_eq_hempty|fact"><span>less_eq_hempty</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.eclose_sup|fact"><span class="entity_def" id="Rank.eclose_sup|thm"><span>eclose_sup</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hunion|const"><span>⊔</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hunion|const"><span>⊔</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.order_class.order_antisym|fact"><span>order_antisym</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hunion|const"><span>⊔</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hunion|const"><span>⊔</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Transset_eclose|fact"><span>Transset_eclose</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Transset_sup|fact"><span>Transset_sup</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose_minimal|fact"><span>eclose_minimal</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.le_eclose|fact"><span>le_eclose</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.semilattice_sup_class.sup_mono|fact"><span>sup_mono</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hunion|const"><span>⊔</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hunion|const"><span>⊔</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Transset_eclose|fact"><span>Transset_eclose</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose_minimal|fact"><span>eclose_minimal</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.le_eclose|fact"><span>le_eclose</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.semilattice_sup_class.le_sup_iff|fact"><span>le_sup_iff</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.eclose_singleton|fact"><span class="entity_def" id="Rank.eclose_singleton|thm"><span>eclose_singleton</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="main"><span>⦃</span></span><span class="free"><span>a</span></span><span class="main"><span>⦄</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.inserthf|const"><span>◃</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.order_class.order_antisym|fact"><span>order_antisym</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="main"><span>⦃</span></span><span class="free"><span>a</span></span><span class="main"><span>⦄</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.inserthf|const"><span>◃</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose_minimal|fact"><span>eclose_minimal</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Transset_eclose|fact"><span>Transset_eclose</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Transset_hinsert|fact"><span>Transset_hinsert</span></a><span>
              </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.le_eclose|fact"><span>le_eclose</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.less_eq_insert1_iff|fact"><span>less_eq_insert1_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.preorder_class.order_refl|fact"><span>order_refl</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.zero_le|fact"><span>zero_le</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.inserthf|const"><span>◃</span></a></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="main"><span>⦃</span></span><span class="free"><span>a</span></span><span class="main"><span>⦄</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Transset_def|fact"><span>Transset_def</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Transset_eclose|fact"><span>Transset_eclose</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose_minimal|fact"><span>eclose_minimal</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.le_eclose|fact"><span>le_eclose</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.less_eq_insert1_iff|fact"><span>less_eq_insert1_iff</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.eclose_hinsert|fact"><span class="entity_def" id="Rank.eclose_hinsert|thm"><span>eclose_hinsert</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.inserthf|const"><span>◃</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hunion|const"><span>⊔</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.inserthf|const"><span>◃</span></a></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose_singleton|fact"><span>eclose_singleton</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose_sup|fact"><span>eclose_sup</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hinsert_eq_sup|fact"><span>hinsert_eq_sup</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.eclose_succ|fact"><span class="entity_def" id="Rank.eclose_succ|thm"><span>eclose_succ</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.succ|const"><span>succ</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.inserthf|const"><span>◃</span></a></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.succ_def|fact"><span>succ_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.fst_in_eclose|fact"><span class="entity_def" id="Rank.fst_in_eclose|thm"><span>fst_in_eclose</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem|const"><span><span class="hidden">❙</span><b>∈</b></span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="main"><span>⟨</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>⟩</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose_hinsert|fact"><span>eclose_hinsert</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem_hinsert|fact"><span>hmem_hinsert</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hpair_def|fact"><span>hpair_def</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hunion_iff|fact"><span>hunion_iff</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.snd_in_eclose|fact"><span class="entity_def" id="Rank.snd_in_eclose|thm"><span>snd_in_eclose</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem|const"><span><span class="hidden">❙</span><b>∈</b></span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="main"><span>⟨</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>⟩</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose_hinsert|fact"><span>eclose_hinsert</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem_hinsert|fact"><span>hmem_hinsert</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hpair_def|fact"><span>hpair_def</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hunion_iff|fact"><span>hunion_iff</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Theorem 4.7. rank(x) = rank(cl(x)).</span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.rank_eclose|fact"><span class="entity_def" id="Rank.rank_eclose|thm"><span>rank_eclose</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hf_induct|fact"><span>hf_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>0</span><span> </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>hinsert</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hinsert_eq_sup|fact"><span>hinsert_eq_sup</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.succ_def|fact"><span>succ_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.semilattice_sup_class.sup.left_idem|fact"><span>sup.left_idem</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Epsilon-Recursion</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Theorem 4.9.  Definition of a function by recursion on rank.</span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8208..8213">lemma</span></span></span><span> </span><span class="entity_def" id="Rank.hmem_induct|fact"><span class="entity_def" id="Rank.hmem_induct|thm"><span>hmem_induct</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>case_names</span></span><span> step</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_8255..8257">ih</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem|const"><span><span class="hidden">❙</span><b>∈</b></span></a></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem|const"><span><span class="hidden">❙</span><b>∈</b></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hf_induct|fact"><span>hf_induct</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>0</span><span> </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>hinsert</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#offset_8208..8213"><span>assms</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem_hinsert|fact"><span>hmem_hinsert</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#offset_8255..8257"><span>ih</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Rank.hmem_rel_def|fact"><span class="entity_def" id="Rank.hmem_rel_def|thm"><span class="entity_def" id="Rank.hmem_rel_def_raw|axiom"><span>definition</span></span></span></span></span></span><span>
  </span><span class="entity"><span class="entity_def" id="Rank.hmem_rel|const"><span>hmem_rel</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hf|type"><span>hf</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>*</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hf|type"><span>hf</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>hmem_rel</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Transitive_Closure.html#Transitive_Closure.trancl|const"><span>trancl</span></a><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem|const"><span><span class="hidden">❙</span><b>∈</b></span></a></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.wf_hmem_rel|fact"><span class="entity_def" id="Rank.wf_hmem_rel|thm"><span>wf_hmem_rel</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Wellfounded.html#Wellfounded.wf|const"><span>wf</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.hmem_rel|const"><span>hmem_rel</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Wellfounded.html#Wellfounded.wf|const"><span>wf</span></a><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem|const"><span><span class="hidden">❙</span><b>∈</b></span></a></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>full_types</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.hmem_induct|fact"><span>hmem_induct</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Wellfounded.html#Wellfounded.wfPUNIVI|fact"><span>wfPUNIVI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Wellfounded.html#Wellfounded.wfP_def|fact"><span>wfP_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.hmem_rel_def|fact"><span>hmem_rel_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Wellfounded.html#Wellfounded.wf_trancl|fact"><span>wf_trancl</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.hmem_eclose_le|fact"><span class="entity_def" id="Rank.hmem_eclose_le|thm"><span>hmem_eclose_le</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem|const"><span><span class="hidden">❙</span><b>∈</b></span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Transset_def|fact"><span>Transset_def</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Transset_eclose|fact"><span>Transset_eclose</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose_minimal|fact"><span>eclose_minimal</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hsubsetD|fact"><span>hsubsetD</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.le_eclose|fact"><span>le_eclose</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.hmem_rel_iff_hmem_eclose|fact"><span class="entity_def" id="Rank.hmem_rel_iff_hmem_eclose|thm"><span>hmem_rel_iff_hmem_eclose</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.hmem_rel|const"><span>hmem_rel</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem|const"><span><span class="hidden">❙</span><b>∈</b></span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.hmem_rel_def|fact"><span>hmem_rel_def</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iffI|fact"><span>iffI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Transitive_Closure.html#Transitive_Closure.trancl|const"><span>trancl</span></a><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem|const"><span><span class="hidden">❙</span><b>∈</b></span></a></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem|const"><span><span class="hidden">❙</span><b>∈</b></span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Transitive_Closure.html#Transitive_Closure.trancl_induct|fact"><span>trancl_induct</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>base</span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hsubsetCE|fact"><span>hsubsetCE</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.le_eclose|fact"><span>le_eclose</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.split_conv|fact"><span>split_conv</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>step</span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="skolem"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.hmem_eclose_le|fact"><span>hmem_eclose_le</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hsubsetD|fact"><span>hsubsetD</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.mem_Collect_eq|fact"><span>mem_Collect_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.split_conv|fact"><span>split_conv</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Transset|const"><span>Transset</span></a><span> </span><span class="main"><span>⦃</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>∈</b></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.hmem_rel|const"><span>hmem_rel</span></a><span class="main"><span>⦄</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Transset_eclose|fact"><span>Transset_eclose</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Transset_def|fact"><span>Transset_def</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.hmem_rel_def|fact"><span>hmem_rel_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Transitive_Closure.html#Transitive_Closure.trancl_trans|fact"><span>trancl_trans</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="main"><span>⦃</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><span><span class="hidden">❙</span><b>∈</b></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.hmem_rel|const"><span>hmem_rel</span></a><span class="main"><span>⦄</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose_minimal|fact"><span>eclose_minimal</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.le_HCollect_iff|fact"><span>le_HCollect_iff</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.le_eclose|fact"><span>le_eclose</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.hmem_rel_def|fact"><span>hmem_rel_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem|const"><span><span class="hidden">❙</span><b>∈</b></span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Transitive_Closure.html#Transitive_Closure.trancl|const"><span>trancl</span></a><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem|const"><span><span class="hidden">❙</span><b>∈</b></span></a></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.HCollect_iff|fact"><span>HCollect_iff</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.hmem_rel_def|fact"><span>hmem_rel_def</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hsubsetD|fact"><span>hsubsetD</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Rank.hmemrec_def|fact"><span class="entity_def" id="Rank.hmemrec_def|thm"><span class="entity_def" id="Rank.hmemrec_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Rank.hmemrec|const"><span>hmemrec</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hf|type"><span>hf</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hf|type"><span>hf</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hf|type"><span>hf</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>hmemrec</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>G</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Wfrec.html#Wfrec.wfrec|const"><span>wfrec</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.hmem_rel|const"><span>hmem_rel</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>G</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Rank.ecut_def|fact"><span class="entity_def" id="Rank.ecut_def|thm"><span class="entity_def" id="Rank.ecut_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Rank.ecut|const"><span>ecut</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hf|type"><span>hf</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hf|type"><span>hf</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hf|type"><span>hf</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ecut</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem|const"><span><span class="hidden">❙</span><b>∈</b></span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.undefined|const"><span>undefined</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.hmemrec|fact"><span class="entity_def" id="Rank.hmemrec|thm"><span>hmemrec</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.hmemrec|const"><span>hmemrec</span></a><span> </span><span class="free"><span>G</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>G</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.ecut|const"><span>ecut</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.hmemrec|const"><span>hmemrec</span></a><span> </span><span class="free"><span>G</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Wfrec.html#Wfrec.cut_def|fact"><span>cut_def</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.ecut_def|fact"><span>ecut_def</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.hmem_rel_iff_hmem_eclose|fact"><span>hmem_rel_iff_hmem_eclose</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Wfrec.html#Wfrec.def_wfrec|fact"><span>def_wfrec</span></a><span> </span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.hmemrec_def|fact"><span>hmemrec_def</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.wf_hmem_rel|fact"><span>wf_hmem_rel</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>This form avoids giant explosions in proofs.</span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.def_hmemrec|fact"><span class="entity_def" id="Rank.def_hmemrec|thm"><span>def_hmemrec</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.hmemrec|const"><span>hmemrec</span></a><span> </span><span class="free"><span>G</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>G</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.ecut|const"><span>ecut</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.hmemrec|const"><span>hmemrec</span></a><span> </span><span class="free"><span>G</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>a</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.hmemrec|fact"><span>hmemrec</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.ecut_apply|fact"><span class="entity_def" id="Rank.ecut_apply|thm"><span>ecut_apply</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem|const"><span><span class="hidden">❙</span><b>∈</b></span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose|const"><span>eclose</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.ecut|const"><span>ecut</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.ecut_def|fact"><span>ecut_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.RepFun_ecut|fact"><span class="entity_def" id="Rank.RepFun_ecut|thm"><span>RepFun_ecut</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.RepFun|const"><span>RepFun</span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.ecut|const"><span>ecut</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.RepFun|const"><span>RepFun</span></a><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>f</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hf_ext|fact"><span>hf_ext</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.ecut_def|fact"><span>ecut_def</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hsubsetD|fact"><span>hsubsetD</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.le_eclose|fact"><span>le_eclose</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.ecut_apply|fact"><span>ecut_apply</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.le_eclose|fact"><span>le_eclose</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hsubsetD|fact"><span>hsubsetD</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹</span><span>Now, a stronger induction rule, for the transitive closure of membership</span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10622..10627">lemma</span></span></span><span> </span><span class="entity_def" id="Rank.hmem_rel_induct|fact"><span class="entity_def" id="Rank.hmem_rel_induct|thm"><span>hmem_rel_induct</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>case_names</span></span><span> step</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>ih</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋀</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.hmem_rel|const"><span>hmem_rel</span></a><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>⋀</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.hmem_rel|const"><span>hmem_rel</span></a><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>y</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hf_induct|fact"><span>hf_induct</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>0</span><span> </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose_0|fact"><span>eclose_0</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem_hempty|fact"><span>hmem_hempty</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.hmem_rel_iff_hmem_eclose|fact"><span>hmem_rel_iff_hmem_eclose</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>hinsert</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#offset_10622..10627"><span>assms</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.eclose_hinsert|fact"><span>eclose_hinsert</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem_hinsert|fact"><span>hmem_hinsert</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.hmem_rel_iff_hmem_eclose|fact"><span>hmem_rel_iff_hmem_eclose</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hunion_iff|fact"><span>hunion_iff</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#offset_10622..10627"><span>assms</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rank.rank_HUnion_less|fact"><span class="entity_def" id="Rank.rank_HUnion_less|thm"><span>rank_HUnion_less</span></span></span><span class="main"><span>:</span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.HUnion|const"><span>⨆</span></a></span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank|const"><span>rank</span></a><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.induct|method"><span class="operator"><span>induct</span></span></a><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hf_induct|fact"><span>hf_induct</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hmem_hinsert|fact"><span>hmem_hinsert</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank_hinsert|fact"><span>rank_hinsert</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank_lt|fact"><span>rank_lt</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.HUnion_hempty|fact"><span>HUnion_hempty</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Ordinal.html#Ordinal.Ord_lt_succ_iff_le|fact"><span>Ord_lt_succ_iff_le</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.Ord_rank|fact"><span>Ord_rank</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.hunion_hempty_right|fact"><span>hunion_hempty_right</span></a><span>
               </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.semilattice_sup_class.less_supI1|fact"><span>less_supI1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.semilattice_sup_class.less_supI2|fact"><span>less_supI2</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank_sup|fact"><span>rank_sup</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices.html#Lattices.semilattice_sup_class.sup.cobounded2|fact"><span>sup.cobounded2</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>corollary</span></span></span><span> </span><span class="entity_def" id="Rank.Sup_ne|fact"><span class="entity_def" id="Rank.Sup_ne|thm"><span>Sup_ne</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><a class="entity_ref" href="HereditarilyFinite.HF.html#HF.HUnion|const"><span>⨆</span></a></span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.preorder_class.less_irrefl|fact"><span>less_irrefl</span></a><span> </span><a class="entity_ref" href="HereditarilyFinite.Rank.html#Rank.rank_HUnion_less|fact"><span>rank_HUnion_less</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre>
</body>

</html>