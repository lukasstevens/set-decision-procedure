<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Set_Proc_Code</title>
</head>


<body>
<div class="head">
<h1>Theory Set_Proc_Code</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="Set_Proc_Code.html"><span>Set_Proc_Code</span></a><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="Set_Proc.html"><span>Set_Proc</span></a><span> </span><a href="Typing_Urelems.html"><span>Typing_Urelems</span></a><span> </span><span class="quoted"><span>"</span><a href="Fresh_Identifiers.Fresh_Nat.html"><span>Fresh_Identifiers.Fresh_Nat</span></a><span>"</span></span><span> </span><span class="quoted"><span>"</span><a href="List-Index.List_Index.html"><span>List-Index.List_Index</span></a><span>"</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>instantiation</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.default|class"><span>default</span></a></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.default_nat_def|fact"><span class="entity_def" id="Set_Proc_Code.default_nat_inst.default_nat|fact"><span class="entity_def" id="Set_Proc_Code.default_nat_def|thm"><span class="entity_def" id="Set_Proc_Code.default_nat_inst.default_nat|thm"><span class="entity_def" id="Set_Proc_Code.default_nat_def_raw|axiom"><span class="entity_def" id="Set_Proc_Code.default_nat_inst.default_nat_def|axiom"><span class="entity_def" id="Set_Proc_Code.default_nat_inst.default_nat|const"><span>definition</span></span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="class_parameter"><span>default_nat</span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.arity_default_nat|fact"><span class="entity_def" id="Set_Proc_Code.arity_default_nat|thm"><span>instance</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.subterms_term_list.elims|fact"><span class="entity_def" id="Set_Proc_Code.subterms_term_list.induct|fact"><span class="entity_def" id="Set_Proc_Code.subterms_term_list.simps|fact"><span class="entity_def" id="Set_Proc_Code.subterms_term_list.pelims|fact"><span class="entity_def" id="Set_Proc_Code.subterms_term_list.cases|fact"><span class="entity_def" id="Set_Proc_Code.subterms_term_list.termination|fact"><span class="entity_def" id="Set_Proc_Code.subterms_term_list.pinduct|fact"><span class="entity_def" id="Set_Proc_Code.subterms_term_list.psimps|fact"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_rel.inducts|fact"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_rel.simps|fact"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_rel.induct|fact"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_rel.cases|fact"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_rel.intros|fact"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_graph.inducts|fact"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_graph.simps|fact"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_graph.induct|fact"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_graph.cases|fact"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_graph.intros|fact"><span class="entity_def" id="Set_Proc_Code.subterms_term_list.elims|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list.induct|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list.simps(6)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list.simps(5)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list.simps(4)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list.simps(3)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list.simps(2)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list.simps(1)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list.pelims|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list.cases|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list.termination|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list.pinduct|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list.psimps(6)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list.psimps(5)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list.psimps(4)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list.psimps(3)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list.psimps(2)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list.psimps(1)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_rel.inducts|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_rel.simps|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_rel.induct|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_rel.cases|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_rel.intros(7)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_rel.intros(6)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_rel.intros(5)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_rel.intros(4)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_rel.intros(3)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_rel.intros(2)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_rel.intros(1)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_graph.inducts|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_graph.simps|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_graph.induct|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_graph.cases|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_graph.intros(6)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_graph.intros(5)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_graph.intros(4)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_graph.intros(3)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_graph.intros(2)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_graph.intros(1)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_def|axiom"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_rel_def|axiom"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_sumC_def|axiom"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_graph_def|axiom"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_dom|const"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_rel|const"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_sumC|const"><span class="entity_def" id="Set_Proc_Code.subterms_term_list_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Set_Proc_Code.subterms_term_list|const"><span>subterms_term_list</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term|type"><span>pset_term</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term|type"><span>pset_term</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span>"</span></span></span><span>  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>subterms_term_list</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Empty|const"><span>∅</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Empty|const"><span>∅</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>subterms_term_list</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Var|const"><span>Var</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Var|const"><span>Var</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>subterms_term_list</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Union|const"><span>⊔<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>[</span></span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Union|const"><span>⊔<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="free"><span>subterms_term_list</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="free"><span>subterms_term_list</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>subterms_term_list</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Inter|const"><span>⊓<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>[</span></span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Inter|const"><span>⊓<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="free"><span>subterms_term_list</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="free"><span>subterms_term_list</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>subterms_term_list</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Diff|const"><span>-<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>[</span></span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Diff|const"><span>-<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="free"><span>subterms_term_list</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="free"><span>subterms_term_list</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>subterms_term_list</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Single|const"><span>Single</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Single|const"><span>Single</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="free"><span>subterms_term_list</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list.elims|fact"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list.induct|fact"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list.simps|fact"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list.pelims|fact"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list.cases|fact"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list.termination|fact"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list.pinduct|fact"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list.psimps|fact"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list_rel.inducts|fact"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list_rel.simps|fact"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list_rel.induct|fact"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list_rel.cases|fact"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list_rel.intros|fact"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list_graph.inducts|fact"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list_graph.simps|fact"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list_graph.induct|fact"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list_graph.cases|fact"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list_graph.intros|fact"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list.elims|thm"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list.induct|thm"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list.simps(2)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list.simps(1)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list.pelims|thm"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list.cases|thm"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list.termination|thm"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list.pinduct|thm"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list.psimps(2)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list.psimps(1)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list_rel.inducts|thm"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list_rel.simps|thm"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list_rel.induct|thm"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list_rel.cases|thm"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list_graph.inducts|thm"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list_graph.simps|thm"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list_graph.induct|thm"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list_graph.cases|thm"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list_graph.intros(2)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list_graph.intros(1)|thm"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list_def|axiom"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list_rel_def|axiom"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list_sumC_def|axiom"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list_graph_def|axiom"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list_dom|const"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list_rel|const"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list_sumC|const"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Set_Proc_Code.subterms_atom_list|const"><span>subterms_atom_list</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom|type"><span>pset_atom</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term|type"><span>pset_term</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span>"</span></span></span><span>  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>subterms_atom_list</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.subterms_term_list|const"><span>subterms_term_list</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.subterms_term_list|const"><span>subterms_term_list</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>subterms_atom_list</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Equal|const"><span>=<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.subterms_term_list|const"><span>subterms_term_list</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.subterms_term_list|const"><span>subterms_term_list</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.atoms_list.elims|fact"><span class="entity_def" id="Set_Proc_Code.atoms_list.induct|fact"><span class="entity_def" id="Set_Proc_Code.atoms_list.simps|fact"><span class="entity_def" id="Set_Proc_Code.atoms_list.pelims|fact"><span class="entity_def" id="Set_Proc_Code.atoms_list.cases|fact"><span class="entity_def" id="Set_Proc_Code.atoms_list.termination|fact"><span class="entity_def" id="Set_Proc_Code.atoms_list.pinduct|fact"><span class="entity_def" id="Set_Proc_Code.atoms_list.psimps|fact"><span class="entity_def" id="Set_Proc_Code.atoms_list_rel.inducts|fact"><span class="entity_def" id="Set_Proc_Code.atoms_list_rel.simps|fact"><span class="entity_def" id="Set_Proc_Code.atoms_list_rel.induct|fact"><span class="entity_def" id="Set_Proc_Code.atoms_list_rel.cases|fact"><span class="entity_def" id="Set_Proc_Code.atoms_list_rel.intros|fact"><span class="entity_def" id="Set_Proc_Code.atoms_list_graph.inducts|fact"><span class="entity_def" id="Set_Proc_Code.atoms_list_graph.simps|fact"><span class="entity_def" id="Set_Proc_Code.atoms_list_graph.induct|fact"><span class="entity_def" id="Set_Proc_Code.atoms_list_graph.cases|fact"><span class="entity_def" id="Set_Proc_Code.atoms_list_graph.intros|fact"><span class="entity_def" id="Set_Proc_Code.atoms_list.elims|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list.induct|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list.simps(4)|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list.simps(3)|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list.simps(2)|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list.simps(1)|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list.pelims|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list.cases|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list.termination|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list.pinduct|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list.psimps(4)|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list.psimps(3)|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list.psimps(2)|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list.psimps(1)|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list_rel.inducts|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list_rel.simps|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list_rel.induct|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list_rel.cases|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list_rel.intros(5)|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list_rel.intros(4)|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list_rel.intros(3)|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list_rel.intros(2)|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list_rel.intros(1)|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list_graph.inducts|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list_graph.simps|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list_graph.induct|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list_graph.cases|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list_graph.intros(4)|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list_graph.intros(3)|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list_graph.intros(2)|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list_graph.intros(1)|thm"><span class="entity_def" id="Set_Proc_Code.atoms_list_def|axiom"><span class="entity_def" id="Set_Proc_Code.atoms_list_rel_def|axiom"><span class="entity_def" id="Set_Proc_Code.atoms_list_sumC_def|axiom"><span class="entity_def" id="Set_Proc_Code.atoms_list_graph_def|axiom"><span class="entity_def" id="Set_Proc_Code.atoms_list_dom|const"><span class="entity_def" id="Set_Proc_Code.atoms_list_rel|const"><span class="entity_def" id="Set_Proc_Code.atoms_list_sumC|const"><span class="entity_def" id="Set_Proc_Code.atoms_list_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Set_Proc_Code.atoms_list|const"><span>atoms_list</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_fm|type"><span>pset_fm</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom|type"><span>pset_atom</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>atoms_list</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Logic.html#Logic.fm.Atom|const"><span>Atom</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>[</span></span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>atoms_list</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Logic.html#Logic.fm.And|const"><span>And</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>atoms_list</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="free"><span>atoms_list</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>atoms_list</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Logic.html#Logic.fm.Or|const"><span>Or</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>atoms_list</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="free"><span>atoms_list</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>atoms_list</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Logic.html#Logic.fm.Neg|const"><span>Neg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>atoms_list</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.subterms_fm_list_def|fact"><span class="entity_def" id="Set_Proc_Code.subterms_fm_list_def|thm"><span class="entity_def" id="Set_Proc_Code.subterms_fm_list_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Set_Proc_Code.subterms_fm_list|const"><span>subterms_fm_list</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_fm|type"><span>pset_fm</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term|type"><span>pset_term</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
 </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>subterms_fm_list</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>φ</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.concat|const"><span>concat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.subterms_atom_list|const"><span>subterms_atom_list</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.atoms_list|const"><span>atoms_list</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>φ</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.subterms_branch_list_def|fact"><span class="entity_def" id="Set_Proc_Code.subterms_branch_list_def|thm"><span class="entity_def" id="Set_Proc_Code.subterms_branch_list_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Set_Proc_Code.subterms_branch_list|const"><span>subterms_branch_list</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.branch|type"><span>branch</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term|type"><span>pset_term</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>subterms_branch_list</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.concat|const"><span>concat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.subterms_fm_list|const"><span>subterms_fm_list</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.set_subterms_term_list|fact"><span class="entity_def" id="Set_Proc_Code.set_subterms_term_list|thm"><span>set_subterms_term_list</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.subterms_term_list|const"><span>subterms_term_list</span></a><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.subterms|const"><span>subterms</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.set_subterms_atom_list|fact"><span class="entity_def" id="Set_Proc_Code.set_subterms_atom_list|thm"><span>set_subterms_atom_list</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.subterms_atom_list|const"><span>subterms_atom_list</span></a><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.subterms|const"><span>subterms</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.set_atoms_list|fact"><span class="entity_def" id="Set_Proc_Code.set_atoms_list|thm"><span>set_atoms_list</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.atoms_list|const"><span>atoms_list</span></a><span> </span><span class="free"><span>φ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Logic.html#Logic.fm.atoms|const"><span>atoms</span></a><span> </span><span class="free"><span>φ</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>φ</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.set_subterms_fm_list|fact"><span class="entity_def" id="Set_Proc_Code.set_subterms_fm_list|thm"><span>set_subterms_fm_list</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.subterms_fm_list|const"><span>subterms_fm_list</span></a><span> </span><span class="free"><span>φ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.subterms_fm|const"><span>subterms_fm</span></a><span> </span><span class="free"><span>φ</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.subterms_fm_list_def|fact"><span>subterms_fm_list_def</span></a><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.subterms_fm_def|fact"><span>subterms_fm_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.set_subterms_branch_list|fact"><span class="entity_def" id="Set_Proc_Code.set_subterms_branch_list|thm"><span>set_subterms_branch_list</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.subterms_branch_list|const"><span>subterms_branch_list</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.subterms|const"><span>subterms</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.subterms_branch_list_def|fact"><span>subterms_branch_list_def</span></a><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.subterms_branch_def|fact"><span>subterms_branch_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1.elims|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1.induct|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1.simps|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1.pelims|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1.cases|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1.termination|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1.pinduct|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1.psimps|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_rel.inducts|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_rel.simps|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_rel.induct|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_rel.cases|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_rel.intros|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_graph.inducts|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_graph.simps|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_graph.induct|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_graph.cases|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_graph.intros|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1.elims|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1.induct|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1.simps(7)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1.simps(6)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1.simps(5)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1.simps(4)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1.simps(3)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1.simps(2)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1.simps(1)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1.pelims|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1.cases|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1.termination|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1.pinduct|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1.psimps(7)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1.psimps(6)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1.psimps(5)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1.psimps(4)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1.psimps(3)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1.psimps(2)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1.psimps(1)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_rel.inducts|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_rel.simps|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_rel.induct|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_rel.cases|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_graph.inducts|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_graph.simps|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_graph.induct|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_graph.cases|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_graph.intros(7)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_graph.intros(6)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_graph.intros(5)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_graph.intros(4)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_graph.intros(3)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_graph.intros(2)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_graph.intros(1)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_def|axiom"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_rel_def|axiom"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_sumC_def|axiom"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_graph_def|axiom"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_dom|const"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_rel|const"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_sumC|const"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Set_Proc_Code.lexpand_fm1|const"><span>lexpand_fm1</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.branch|type"><span>branch</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_fm|type"><span>pset_fm</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.branch|type"><span>branch</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>lexpand_fm1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Logic.html#Logic.fm.And|const"><span>And</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>lexpand_fm1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Logic.html#Logic.fm.Neg|const"><span>Neg</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Logic.html#Logic.fm.Or|const"><span>Or</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Logic.html#Logic.fm.Neg|const"><span>Neg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Logic.html#Logic.fm.Neg|const"><span>Neg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>lexpand_fm1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Logic.html#Logic.fm.Or|const"><span>Or</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Logic.html#Logic.fm.Neg|const"><span>Neg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Logic.html#Logic.fm.Neg|const"><span>Neg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>lexpand_fm1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Logic.html#Logic.fm.Neg|const"><span>Neg</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Logic.html#Logic.fm.And|const"><span>And</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Logic.html#Logic.fm.Neg|const"><span>Neg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Logic.html#Logic.fm.Neg|const"><span>Neg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>lexpand_fm1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Logic.html#Logic.fm.Neg|const"><span>Neg</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Logic.html#Logic.fm.Neg|const"><span>Neg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>lexpand_fm1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.lexpand_fm_def|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_fm_def|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_fm_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Set_Proc_Code.lexpand_fm|const"><span>lexpand_fm</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.concat|const"><span>concat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_fm1|const"><span>lexpand_fm1</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.lexpand_fm_if_lexpands_fm|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_fm_if_lexpands_fm|thm"><span>lexpand_fm_if_lexpands_fm</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_fm|const"><span>lexpands_fm</span></a><span> </span><span class="free"><span>b'</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_fm|const"><span>lexpand_fm</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_fm.induct|fact"><span>lexpands_fm.induct</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_fm_def|fact"><span>lexpand_fm_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.lexpands_fm_if_lexpand_fm1|fact"><span class="entity_def" id="Set_Proc_Code.lexpands_fm_if_lexpand_fm1|thm"><span>lexpands_fm_if_lexpand_fm1</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_fm1|const"><span>lexpand_fm1</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_fm|const"><span>lexpands_fm</span></a><span> </span><span class="free"><span>b'</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>b</span></span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_fm1.induct|fact"><span>lexpand_fm1.induct</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_fm.intros|fact"><span>lexpands_fm.intros</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.lexpands_fm_if_lexpand_fm|fact"><span class="entity_def" id="Set_Proc_Code.lexpands_fm_if_lexpand_fm|thm"><span>lexpands_fm_if_lexpand_fm</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_fm|const"><span>lexpand_fm</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_fm|const"><span>lexpands_fm</span></a><span> </span><span class="free"><span>b'</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpands_fm_if_lexpand_fm1|fact"><span>lexpands_fm_if_lexpand_fm1</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_fm_def|fact"><span>lexpand_fm_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.elims|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.induct|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.simps|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.pelims|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.cases|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.termination|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.pinduct|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.psimps|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_rel.inducts|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_rel.simps|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_rel.induct|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_rel.cases|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_rel.intros|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_graph.inducts|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_graph.simps|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_graph.induct|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_graph.cases|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_graph.intros|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.elims|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.induct|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.simps(9)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.simps(8)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.simps(7)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.simps(6)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.simps(5)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.simps(4)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.simps(3)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.simps(2)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.simps(1)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.pelims|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.cases|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.termination|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.pinduct|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.psimps(9)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.psimps(8)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.psimps(7)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.psimps(6)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.psimps(5)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.psimps(4)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.psimps(3)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.psimps(2)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1.psimps(1)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_rel.inducts|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_rel.simps|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_rel.induct|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_rel.cases|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_graph.inducts|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_graph.simps|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_graph.induct|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_graph.cases|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_graph.intros(9)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_graph.intros(8)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_graph.intros(7)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_graph.intros(6)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_graph.intros(5)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_graph.intros(4)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_graph.intros(3)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_graph.intros(2)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_graph.intros(1)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_def|axiom"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_rel_def|axiom"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_sumC_def|axiom"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_graph_def|axiom"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_dom|const"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_rel|const"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_sumC|const"><span class="entity_def" id="Set_Proc_Code.lexpand_un1_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Set_Proc_Code.lexpand_un1|const"><span>lexpand_un1</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.branch|type"><span>branch</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_fm|type"><span>pset_fm</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.branch|type"><span>branch</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>lexpand_un1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>
    </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Union|const"><span>⊔<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t1</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>.</span></span><span> AF </span><span class="main"><span>(</span></span><span>s' </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> t1</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Union|const"><span>⊔<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.subterms|const"><span>subterms</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span>
    </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Union|const"><span>⊔<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>.</span></span><span> AF </span><span class="main"><span>(</span></span><span>s' </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> t1</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Union|const"><span>⊔<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.subterms|const"><span>subterms</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> 
    </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span>
      </span><span class="bound"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Union|const"><span>⊔<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t1</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>
    </span><span class="main"><span>|</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>lexpand_un1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>
    </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Union|const"><span>⊔<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>.</span></span><span> t1 </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Union|const"><span>⊔<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> t2 </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.subterms_fm_list|const"><span>subterms_fm_list</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span>
    </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Union|const"><span>⊔<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>.</span></span><span> t1 </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Union|const"><span>⊔<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> t2 </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.subterms_fm_list|const"><span>subterms_fm_list</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span>
      </span><span class="bound"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Union|const"><span>⊔<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span>
                  </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t1</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>|</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>lexpand_un1</span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.lexpand_un_def|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_un_def|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_un_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Set_Proc_Code.lexpand_un|const"><span>lexpand_un</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.concat|const"><span>concat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_un1|const"><span>lexpand_un1</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.lexpand_un_if_lexpands_un|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_un_if_lexpands_un|thm"><span>lexpand_un_if_lexpands_un</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_un|const"><span>lexpands_un</span></a><span> </span><span class="free"><span>b'</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_un|const"><span>lexpand_un</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_un.induct|fact"><span>lexpands_un.induct</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_un_def|fact"><span>lexpand_un_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.lexpands_un_if_lexpand_un1|fact"><span class="entity_def" id="Set_Proc_Code.lexpands_un_if_lexpand_un1|thm"><span>lexpands_un_if_lexpand_un1</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_un1|const"><span>lexpand_un1</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_un|const"><span>lexpands_un</span></a><span> </span><span class="free"><span>b'</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>b</span></span></span><span> </span><span class="quoted"><span class="free"><span>l</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_un1.induct|fact"><span>lexpand_un1.induct</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_un.intros|fact"><span>lexpands_un.intros</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.lexpands_un_if_lexpand_un|fact"><span class="entity_def" id="Set_Proc_Code.lexpands_un_if_lexpand_un|thm"><span>lexpands_un_if_lexpand_un</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_un|const"><span>lexpand_un</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_un|const"><span>lexpands_un</span></a><span> </span><span class="free"><span>b'</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_un_def|fact"><span>lexpand_un_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpands_un_if_lexpand_un1|fact"><span>lexpands_un_if_lexpand_un1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.elims|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.induct|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.simps|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.pelims|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.cases|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.termination|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.pinduct|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.psimps|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_rel.inducts|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_rel.simps|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_rel.induct|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_rel.cases|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_rel.intros|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_graph.inducts|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_graph.simps|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_graph.induct|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_graph.cases|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_graph.intros|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.elims|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.induct|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.simps(9)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.simps(8)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.simps(7)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.simps(6)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.simps(5)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.simps(4)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.simps(3)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.simps(2)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.simps(1)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.pelims|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.cases|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.termination|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.pinduct|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.psimps(9)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.psimps(8)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.psimps(7)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.psimps(6)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.psimps(5)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.psimps(4)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.psimps(3)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.psimps(2)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1.psimps(1)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_rel.inducts|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_rel.simps|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_rel.induct|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_rel.cases|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_graph.inducts|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_graph.simps|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_graph.induct|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_graph.cases|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_graph.intros(9)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_graph.intros(8)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_graph.intros(7)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_graph.intros(6)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_graph.intros(5)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_graph.intros(4)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_graph.intros(3)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_graph.intros(2)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_graph.intros(1)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_def|axiom"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_rel_def|axiom"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_sumC_def|axiom"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_graph_def|axiom"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_dom|const"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_rel|const"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_sumC|const"><span class="entity_def" id="Set_Proc_Code.lexpand_int1_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Set_Proc_Code.lexpand_int1|const"><span>lexpand_int1</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.branch|type"><span>branch</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_fm|type"><span>pset_fm</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.branch|type"><span>branch</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>lexpand_int1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>
    </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Inter|const"><span>⊓<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>.</span></span><span> AT </span><span class="main"><span>(</span></span><span>s' </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> t1</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Inter|const"><span>⊓<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.subterms|const"><span>subterms</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span>
    </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Inter|const"><span>⊓<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>.</span></span><span> AT </span><span class="main"><span>(</span></span><span>s' </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> t2</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Inter|const"><span>⊓<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.subterms|const"><span>subterms</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="bound"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Inter|const"><span>⊓<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t1</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>lexpand_int1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>
    </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Inter|const"><span>⊓<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>.</span></span><span> t1 </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Inter|const"><span>⊓<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> t2 </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.subterms_fm_list|const"><span>subterms_fm_list</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span>
    </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Inter|const"><span>⊓<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>.</span></span><span> t1 </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Inter|const"><span>⊓<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> t2 </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.subterms_fm_list|const"><span>subterms_fm_list</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span>
      </span><span class="bound"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Inter|const"><span>⊓<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span>
                  </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t1</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>|</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>lexpand_int1</span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.lexpand_int_def|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_int_def|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_int_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Set_Proc_Code.lexpand_int|const"><span>lexpand_int</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.concat|const"><span>concat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_int1|const"><span>lexpand_int1</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.lexpand_int_if_lexpands_int|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_int_if_lexpands_int|thm"><span>lexpand_int_if_lexpands_int</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_int|const"><span>lexpands_int</span></a><span> </span><span class="free"><span>b'</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_int|const"><span>lexpand_int</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_int.induct|fact"><span>lexpands_int.induct</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_int_def|fact"><span>lexpand_int_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.lexpands_int_if_lexpand_int1|fact"><span class="entity_def" id="Set_Proc_Code.lexpands_int_if_lexpand_int1|thm"><span>lexpands_int_if_lexpand_int1</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_int1|const"><span>lexpand_int1</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_int|const"><span>lexpands_int</span></a><span> </span><span class="free"><span>b'</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>b</span></span></span><span> </span><span class="quoted"><span class="free"><span>l</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_int1.induct|fact"><span>lexpand_int1.induct</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_int.intros|fact"><span>lexpands_int.intros</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.lexpands_int_if_lexpand_int|fact"><span class="entity_def" id="Set_Proc_Code.lexpands_int_if_lexpand_int|thm"><span>lexpands_int_if_lexpand_int</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_int|const"><span>lexpand_int</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_int|const"><span>lexpands_int</span></a><span> </span><span class="free"><span>b'</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_int_def|fact"><span>lexpand_int_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpands_int_if_lexpand_int1|fact"><span>lexpands_int_if_lexpand_int1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.elims|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.induct|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.simps|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.pelims|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.cases|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.termination|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.pinduct|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.psimps|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_rel.inducts|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_rel.simps|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_rel.induct|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_rel.cases|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_rel.intros|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_graph.inducts|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_graph.simps|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_graph.induct|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_graph.cases|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_graph.intros|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.elims|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.induct|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.simps(9)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.simps(8)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.simps(7)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.simps(6)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.simps(5)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.simps(4)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.simps(3)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.simps(2)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.simps(1)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.pelims|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.cases|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.termination|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.pinduct|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.psimps(9)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.psimps(8)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.psimps(7)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.psimps(6)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.psimps(5)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.psimps(4)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.psimps(3)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.psimps(2)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1.psimps(1)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_rel.inducts|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_rel.simps|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_rel.induct|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_rel.cases|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_graph.inducts|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_graph.simps|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_graph.induct|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_graph.cases|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_graph.intros(9)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_graph.intros(8)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_graph.intros(7)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_graph.intros(6)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_graph.intros(5)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_graph.intros(4)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_graph.intros(3)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_graph.intros(2)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_graph.intros(1)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_def|axiom"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_rel_def|axiom"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_sumC_def|axiom"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_graph_def|axiom"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_dom|const"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_rel|const"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_sumC|const"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Set_Proc_Code.lexpand_diff1|const"><span>lexpand_diff1</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.branch|type"><span>branch</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_fm|type"><span>pset_fm</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.branch|type"><span>branch</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>lexpand_diff1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>
    </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Diff|const"><span>-<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>.</span></span><span> AF </span><span class="main"><span>(</span></span><span>s' </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> t2</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Diff|const"><span>-<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.subterms|const"><span>subterms</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span>
    </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Diff|const"><span>-<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>.</span></span><span> AF </span><span class="main"><span>(</span></span><span>s' </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> t1</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Diff|const"><span>-<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.subterms|const"><span>subterms</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span>
    </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Diff|const"><span>-<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>.</span></span><span> t1 </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Diff|const"><span>-<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> t2 </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.subterms_fm_list|const"><span>subterms_fm_list</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="bound"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Diff|const"><span>-<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t1</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>lexpand_diff1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>
    </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Diff|const"><span>-<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>.</span></span><span> t1 </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Diff|const"><span>-<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> t2 </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.subterms_fm_list|const"><span>subterms_fm_list</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span>
      </span><span class="bound"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Diff|const"><span>-<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span>
                  </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t1</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>|</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>lexpand_diff1</span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.lexpand_diff_def|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_diff_def|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_diff_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Set_Proc_Code.lexpand_diff|const"><span>lexpand_diff</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.concat|const"><span>concat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_diff1|const"><span>lexpand_diff1</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.lexpand_diff_if_lexpands_diff|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_diff_if_lexpands_diff|thm"><span>lexpand_diff_if_lexpands_diff</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_diff|const"><span>lexpands_diff</span></a><span> </span><span class="free"><span>b'</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_diff|const"><span>lexpand_diff</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_diff.induct|fact"><span>lexpands_diff.induct</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_diff_def|fact"><span>lexpand_diff_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.lexpands_diff_if_lexpand_diff1|fact"><span class="entity_def" id="Set_Proc_Code.lexpands_diff_if_lexpand_diff1|thm"><span>lexpands_diff_if_lexpand_diff1</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_diff1|const"><span>lexpand_diff1</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_diff|const"><span>lexpands_diff</span></a><span> </span><span class="free"><span>b'</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>b</span></span></span><span> </span><span class="quoted"><span class="free"><span>l</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_diff1.induct|fact"><span>lexpand_diff1.induct</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_diff.intros|fact"><span>lexpands_diff.intros</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.lexpands_diff_if_lexpand_diff|fact"><span class="entity_def" id="Set_Proc_Code.lexpands_diff_if_lexpand_diff|thm"><span>lexpands_diff_if_lexpand_diff</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_diff|const"><span>lexpand_diff</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_diff|const"><span>lexpands_diff</span></a><span> </span><span class="free"><span>b'</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_diff_def|fact"><span>lexpand_diff_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpands_diff_if_lexpand_diff1|fact"><span>lexpands_diff_if_lexpand_diff1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.elims|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.induct|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.simps|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.pelims|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.cases|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.termination|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.pinduct|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.psimps|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_rel.inducts|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_rel.simps|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_rel.induct|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_rel.cases|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_rel.intros|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph.inducts|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph.simps|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph.induct|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph.cases|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph.intros|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.elims|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.induct|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.simps(19)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.simps(18)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.simps(17)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.simps(16)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.simps(15)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.simps(14)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.simps(13)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.simps(12)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.simps(11)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.simps(10)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.simps(9)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.simps(8)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.simps(7)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.simps(6)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.simps(5)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.simps(4)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.simps(3)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.simps(2)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.simps(1)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.pelims|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.cases|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.termination|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.pinduct|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.psimps(19)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.psimps(18)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.psimps(17)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.psimps(16)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.psimps(15)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.psimps(14)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.psimps(13)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.psimps(12)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.psimps(11)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.psimps(10)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.psimps(9)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.psimps(8)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.psimps(7)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.psimps(6)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.psimps(5)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.psimps(4)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.psimps(3)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.psimps(2)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1.psimps(1)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_rel.inducts|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_rel.simps|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_rel.induct|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_rel.cases|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph.inducts|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph.simps|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph.induct|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph.cases|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph.intros(19)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph.intros(18)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph.intros(17)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph.intros(16)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph.intros(15)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph.intros(14)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph.intros(13)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph.intros(12)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph.intros(11)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph.intros(10)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph.intros(9)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph.intros(8)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph.intros(7)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph.intros(6)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph.intros(5)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph.intros(4)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph.intros(3)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph.intros(2)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph.intros(1)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_def|axiom"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_rel_def|axiom"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_sumC_def|axiom"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph_def|axiom"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_dom|const"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_rel|const"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_sumC|const"><span class="entity_def" id="Set_Proc_Code.lexpand_single1_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Set_Proc_Code.lexpand_single1|const"><span>lexpand_single1</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.branch|type"><span>branch</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_fm|type"><span>pset_fm</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.branch|type"><span>branch</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>lexpand_single1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Single|const"><span>Single</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Equal|const"><span>=<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>lexpand_single1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Single|const"><span>Single</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Equal|const"><span>=<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>lexpand_single1</span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.lexpand_single_def|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_single_def|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_single_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Set_Proc_Code.lexpand_single|const"><span>lexpand_single</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Single|const"><span>Single</span></a><span> </span><span class="bound"><span>t1</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>.</span></span><span> Single t1 </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.subterms_fm_list|const"><span>subterms_fm_list</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span>
  </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.concat|const"><span>concat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_single1|const"><span>lexpand_single1</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.lexpand_single_if_lexpands_single|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_single_if_lexpands_single|thm"><span>lexpand_single_if_lexpands_single</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_single|const"><span>lexpands_single</span></a><span> </span><span class="free"><span>b'</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_single|const"><span>lexpand_single</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_single.induct|fact"><span>lexpands_single.induct</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_single_def|fact"><span>lexpand_single_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.lexpands_single_if_lexpand_single1|fact"><span class="entity_def" id="Set_Proc_Code.lexpands_single_if_lexpand_single1|thm"><span>lexpands_single_if_lexpand_single1</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_single1|const"><span>lexpand_single1</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_single|const"><span>lexpands_single</span></a><span> </span><span class="free"><span>b'</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>b</span></span></span><span> </span><span class="quoted"><span class="free"><span>l</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_single1.induct|fact"><span>lexpand_single1.induct</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_single.intros|fact"><span>lexpands_single.intros</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.lexpands_single_if_lexpand_single|fact"><span class="entity_def" id="Set_Proc_Code.lexpands_single_if_lexpand_single|thm"><span>lexpands_single_if_lexpand_single</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_single|const"><span>lexpand_single</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_single|const"><span>lexpands_single</span></a><span> </span><span class="free"><span>b'</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_single_def|fact"><span>lexpand_single_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpands_single_if_lexpand_single1|fact"><span>lexpands_single_if_lexpand_single1</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_single.intros|fact"><span>lexpands_single.intros</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1.elims|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1.induct|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1.simps|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1.pelims|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1.cases|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1.termination|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1.pinduct|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1.psimps|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_rel.inducts|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_rel.simps|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_rel.induct|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_rel.cases|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_rel.intros|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_graph.inducts|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_graph.simps|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_graph.induct|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_graph.cases|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_graph.intros|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1.elims|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1.induct|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1.simps(5)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1.simps(4)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1.simps(3)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1.simps(2)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1.simps(1)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1.pelims|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1.cases|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1.termination|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1.pinduct|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1.psimps(5)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1.psimps(4)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1.psimps(3)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1.psimps(2)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1.psimps(1)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_rel.inducts|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_rel.simps|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_rel.induct|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_rel.cases|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_graph.inducts|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_graph.simps|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_graph.induct|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_graph.cases|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_graph.intros(5)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_graph.intros(4)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_graph.intros(3)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_graph.intros(2)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_graph.intros(1)|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_def|axiom"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_rel_def|axiom"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_sumC_def|axiom"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_graph_def|axiom"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_dom|const"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_rel|const"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_sumC|const"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Set_Proc_Code.lexpand_eq1|const"><span>lexpand_eq1</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.branch|type"><span>branch</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_fm|type"><span>pset_fm</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.branch|type"><span>branch</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>lexpand_eq1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Equal|const"><span>=<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>
    </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.subst_tlvl|const"><span>subst_tlvl</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>.</span></span><span> AT a </span><span class="main"><span>←</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.tlvl_terms|const"><span>tlvl_terms</span></a><span> </span><span class="bound"><span>a</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span>
    </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.subst_tlvl|const"><span>subst_tlvl</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>.</span></span><span> AF a </span><span class="main"><span>←</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.tlvl_terms|const"><span>tlvl_terms</span></a><span> </span><span class="bound"><span>a</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span>
    </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.subst_tlvl|const"><span>subst_tlvl</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>.</span></span><span> AT a </span><span class="main"><span>←</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.tlvl_terms|const"><span>tlvl_terms</span></a><span> </span><span class="bound"><span>a</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span>
    </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.subst_tlvl|const"><span>subst_tlvl</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>.</span></span><span> AF a </span><span class="main"><span>←</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.tlvl_terms|const"><span>tlvl_terms</span></a><span> </span><span class="bound"><span>a</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>lexpand_eq1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.lexpand_eq_def|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_eq_def|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_eq_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Set_Proc_Code.lexpand_eq|const"><span>lexpand_eq</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Equal|const"><span>=<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>s'</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>.</span></span><span> AT </span><span class="main"><span>(</span></span><span>s </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> t</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>,</span></span><span> AF </span><span class="main"><span>(</span></span><span>s' </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> t'</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span>
  </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.concat|const"><span>concat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_eq1|const"><span>lexpand_eq1</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.lexpand_eq_if_lexpands_eq|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_eq_if_lexpands_eq|thm"><span>lexpand_eq_if_lexpands_eq</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_eq|const"><span>lexpands_eq</span></a><span> </span><span class="free"><span>b'</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_eq|const"><span>lexpand_eq</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_eq.induct|fact"><span>lexpands_eq.induct</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_eq_def|fact"><span>lexpand_eq_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.lexpands_eq_if_lexpand_eq1|fact"><span class="entity_def" id="Set_Proc_Code.lexpands_eq_if_lexpand_eq1|thm"><span>lexpands_eq_if_lexpand_eq1</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_eq1|const"><span>lexpand_eq1</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_eq|const"><span>lexpands_eq</span></a><span> </span><span class="free"><span>b'</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>b</span></span></span><span> </span><span class="quoted"><span class="free"><span>l</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_eq1.induct|fact"><span>lexpand_eq1.induct</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_eq.intros|fact"><span>lexpands_eq.intros</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.lexpands_eq_if_lexpand_eq|fact"><span class="entity_def" id="Set_Proc_Code.lexpands_eq_if_lexpand_eq|thm"><span>lexpands_eq_if_lexpand_eq</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_eq|const"><span>lexpand_eq</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_eq|const"><span>lexpands_eq</span></a><span> </span><span class="free"><span>b'</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_eq_def|fact"><span>lexpand_eq_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpands_eq_if_lexpand_eq1|fact"><span>lexpands_eq_if_lexpand_eq1</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands_eq.intros|fact"><span>lexpands_eq.intros</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.lexpand_def|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_def|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Set_Proc_Code.lexpand|const"><span>lexpand</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span>
  </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_fm|const"><span>lexpand_fm</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span>
  </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_un|const"><span>lexpand_un</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_int|const"><span>lexpand_int</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_diff|const"><span>lexpand_diff</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> 
  </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_single|const"><span>lexpand_single</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_eq|const"><span>lexpand_eq</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.lexpand_if_lexpands|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_if_lexpands|thm"><span>lexpand_if_lexpands</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands|const"><span>lexpands</span></a><span> </span><span class="free"><span>b'</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand|const"><span>lexpand</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands.induct|fact"><span>lexpands.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_def|fact"><span>lexpand_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_fm_if_lexpands_fm|fact"><span>lexpand_fm_if_lexpands_fm</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_un_if_lexpands_un|fact"><span>lexpand_un_if_lexpands_un</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_int_if_lexpands_int|fact"><span>lexpand_int_if_lexpands_int</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_diff_if_lexpands_diff|fact"><span>lexpand_diff_if_lexpands_diff</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_single_if_lexpands_single|fact"><span>lexpand_single_if_lexpands_single</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_eq_if_lexpands_eq|fact"><span>lexpand_eq_if_lexpands_eq</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.lexpands_if_lexpand|fact"><span class="entity_def" id="Set_Proc_Code.lexpands_if_lexpand|thm"><span>lexpands_if_lexpand</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand|const"><span>lexpand</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands|const"><span>lexpands</span></a><span> </span><span class="free"><span>b'</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_def|fact"><span>lexpand_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpands_fm_if_lexpand_fm|fact"><span>lexpands_fm_if_lexpand_fm</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpands_un_if_lexpand_un|fact"><span>lexpands_un_if_lexpand_un</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpands_int_if_lexpand_int|fact"><span>lexpands_int_if_lexpand_int</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpands_diff_if_lexpand_diff|fact"><span>lexpands_diff_if_lexpand_diff</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpands_single_if_lexpand_single|fact"><span>lexpands_single_if_lexpand_single</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpands_eq_if_lexpand_eq|fact"><span>lexpands_eq_if_lexpand_eq</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands.intros|fact"><span>lexpands.intros</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.elims|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.induct|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.simps|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.pelims|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.cases|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.termination|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.pinduct|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.psimps|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_rel.inducts|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_rel.simps|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_rel.induct|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_rel.cases|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_rel.intros|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_graph.inducts|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_graph.simps|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_graph.induct|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_graph.cases|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_graph.intros|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.elims|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.induct|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.simps(8)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.simps(7)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.simps(6)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.simps(5)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.simps(4)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.simps(3)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.simps(2)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.simps(1)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.pelims|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.cases|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.termination|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.pinduct|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.psimps(8)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.psimps(7)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.psimps(6)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.psimps(5)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.psimps(4)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.psimps(3)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.psimps(2)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1.psimps(1)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_rel.inducts|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_rel.simps|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_rel.induct|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_rel.cases|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_graph.inducts|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_graph.simps|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_graph.induct|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_graph.cases|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_graph.intros(8)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_graph.intros(7)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_graph.intros(6)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_graph.intros(5)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_graph.intros(4)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_graph.intros(3)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_graph.intros(2)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_graph.intros(1)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_def|axiom"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_rel_def|axiom"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_sumC_def|axiom"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_graph_def|axiom"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_dom|const"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_rel|const"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_sumC|const"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit1|const"><span>bexpand_nowit1</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.branch|type"><span>branch</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_fm|type"><span>pset_fm</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.branch|type"><span>branch</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bexpand_nowit1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Logic.html#Logic.fm.Or|const"><span>Or</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Logic.html#Logic.fm.Neg|const"><span>Neg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Logic.html#Logic.fm.Neg|const"><span>Neg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bexpand_nowit1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Logic.html#Logic.fm.Neg|const"><span>Neg</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Logic.html#Logic.fm.And|const"><span>And</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>q</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Logic.html#Logic.fm.Neg|const"><span>Neg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Logic.html#Logic.fm.Neg|const"><span>Neg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bexpand_nowit1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>
    </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>.</span></span><span> t' </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Inter|const"><span>⊓<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> t2 </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.subterms_fm_list|const"><span>subterms_fm_list</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>,</span></span><span>
                                       </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span>
    </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>.</span></span><span> t' </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Diff|const"><span>-<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> t2 </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.subterms_fm_list|const"><span>subterms_fm_list</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>,</span></span><span>
                                       </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span>
      </span><span class="bound"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Union|const"><span>⊔<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span> </span><span class="main"><span>⇒</span></span><span>
        </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Union|const"><span>⊔<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.subterms|const"><span>subterms</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span>
          </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t1</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t1</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>|</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bexpand_nowit1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit_def|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit_def|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit|const"><span>bexpand_nowit</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.concat|const"><span>concat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_nowit1|const"><span>bexpand_nowit1</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.bexpand_nowit_if_bexpands_nowit|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_nowit_if_bexpands_nowit|thm"><span>bexpand_nowit_if_bexpands_nowit</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.bexpands_nowit|const"><span>bexpands_nowit</span></a><span> </span><span class="free"><span>bs'</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>bs'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_nowit|const"><span>bexpand_nowit</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.bexpands_nowit.induct|fact"><span>bexpands_nowit.induct</span></a><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_nowit_def|fact"><span>bexpand_nowit_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.bexpands_nowit_if_bexpand_nowit1|fact"><span class="entity_def" id="Set_Proc_Code.bexpands_nowit_if_bexpand_nowit1|thm"><span>bexpands_nowit_if_bexpand_nowit1</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bs'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_nowit1|const"><span>bexpand_nowit1</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.bexpands_nowit|const"><span>bexpands_nowit</span></a><span> </span><span class="free"><span>bs'</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>b</span></span></span><span> </span><span class="quoted"><span class="free"><span>l</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_nowit1.induct|fact"><span>bexpand_nowit1.induct</span></a><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.bexpands_nowit.intros|fact"><span>bexpands_nowit.intros</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.bexpands_nowit_if_bexpand_nowit|fact"><span class="entity_def" id="Set_Proc_Code.bexpands_nowit_if_bexpand_nowit|thm"><span>bexpands_nowit_if_bexpand_nowit</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bs'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_nowit|const"><span>bexpand_nowit</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.bexpands_nowit|const"><span>bexpands_nowit</span></a><span> </span><span class="free"><span>bs'</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_nowit_def|fact"><span>bexpand_nowit_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpands_nowit_if_bexpand_nowit1|fact"><span>bexpands_nowit_if_bexpand_nowit1</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.bexpands_nowit.intros|fact"><span>bexpands_nowit.intros</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.name_subterm_def|fact"><span class="entity_def" id="Set_Proc_Code.name_subterm_def|thm"><span class="entity_def" id="Set_Proc_Code.name_subterm_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Set_Proc_Code.name_subterm|const"><span>name_subterm</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>φ</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="List-Index.List_Index.html#List_Index.index|const"><span>index</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.subterms_fm_list|const"><span>subterms_fm_list</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>φ</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.inj_on_name_subterm_subterms|fact"><span class="entity_def" id="Set_Proc_Code.inj_on_name_subterm_subterms|thm"><span>inj_on_name_subterm_subterms</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.inj_on|const"><span>inj_on</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.name_subterm|const"><span>name_subterm</span></a><span> </span><span class="free"><span>φ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.subterms|const"><span>subterms</span></a><span> </span><span class="free"><span>φ</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.name_subterm_def|fact"><span>name_subterm_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="List-Index.List_Index.html#List_Index.inj_on_index2|fact"><span>inj_on_index2</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Set_Proc_Code.solve_constraints|const"><span>solve_constraints</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>φ</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span>
  </span><a class="entity_ref" href="Suc_Theory.html#Suc_Theory.solve|const"><span>Suc_Theory.solve</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Suc_Theory.html#Suc_Theory.elim_NEq_Zero|const"><span>Suc_Theory.elim_NEq_Zero</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Typing_Urelems.html#Typing_Urelems.constrs_fm|const"><span>constrs_fm</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.name_subterm|const"><span>name_subterm</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>φ</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>φ</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.urelem_code_def|fact"><span class="entity_def" id="Set_Proc_Code.urelem_code_def|thm"><span class="entity_def" id="Set_Proc_Code.urelem_code_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Set_Proc_Code.urelem_code|const"><span>urelem_code</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>φ</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span>
  </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.solve_constraints|const"><span>solve_constraints</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>φ</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span>
    Some </span><span class="bound"><span>ss</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="Suc_Theory.html#Suc_Theory.assign|const"><span>Suc_Theory.assign</span></a><span> </span><span class="bound"><span>ss</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.name_subterm|const"><span>name_subterm</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>φ</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>
  </span><span class="main"><span>|</span></span><span> None </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12051..12056">lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.urelem_code_if_mem_subterms|fact"><span class="entity_def" id="Set_Proc_Code.urelem_code_if_mem_subterms|thm"><span>urelem_code_if_mem_subterms</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.subterms|const"><span>subterms</span></a><span> </span><span class="free"><span>φ</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Typing_Defs.html#Typing_Defs.urelem|const"><span>urelem</span></a><span> </span><span class="free"><span>φ</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.urelem_code|const"><span>urelem_code</span></a><span> </span><span class="free"><span>φ</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12162..12166">note</span></span></span><span> </span><a class="entity_ref" href="Typing_Urelems.html#Typing_Urelems.urelem_iff_assign_eq_0|fact"><span>urelem_iff_assign_eq_0</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="Set_Proc_Code.html#offset_12051..12056"><span>assms</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Typing_Urelems.html#Typing_Urelems.not_types_fm_if_solve_eq_None|fact"><span>not_types_fm_if_solve_eq_None</span></a><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span>solve_correct</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_12162..12166"><span>this</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.inj_on_name_subterm_subterms|fact"><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.inj_on_name_subterm_subterms|fact"><span>inj_on_name_subterm_subterms</span></a></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Typing_Defs.html#Typing_Defs.urelem_def|fact"><span>urelem_def</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.urelem_code_def|fact"><span>urelem_code_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.splits|fact"><span>option.splits</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.elims|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.induct|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.simps|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.pelims|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.cases|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.termination|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.pinduct|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.psimps|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_rel.inducts|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_rel.simps|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_rel.induct|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_rel.cases|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_rel.intros|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_graph.inducts|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_graph.simps|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_graph.induct|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_graph.cases|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_graph.intros|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.elims|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.induct|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.simps(8)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.simps(7)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.simps(6)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.simps(5)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.simps(4)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.simps(3)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.simps(2)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.simps(1)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.pelims|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.cases|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.termination|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.pinduct|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.psimps(8)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.psimps(7)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.psimps(6)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.psimps(5)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.psimps(4)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.psimps(3)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.psimps(2)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1.psimps(1)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_rel.inducts|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_rel.simps|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_rel.induct|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_rel.cases|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_graph.inducts|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_graph.simps|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_graph.induct|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_graph.cases|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_graph.intros(8)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_graph.intros(7)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_graph.intros(6)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_graph.intros(5)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_graph.intros(4)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_graph.intros(3)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_graph.intros(2)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_graph.intros(1)|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_def|axiom"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_rel_def|axiom"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_sumC_def|axiom"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_graph_def|axiom"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_dom|const"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_rel|const"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_sumC|const"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1|const"><span>bexpand_wit1</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><span class="main"><span>{</span></span><a class="entity_ref" href="Fresh_Identifiers.Fresh.html#Fresh.fresh|class"><span>fresh</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.default|class"><span>default</span></a><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.branch|type"><span>branch</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_fm|type"><span>pset_fm</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.branch|type"><span>branch</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bexpand_wit1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Equal|const"><span>=<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.subterms|const"><span>subterms</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.subterms|const"><span>subterms</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
        </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>t</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>case</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="keyword1"><span>of</span></span><span> AT </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t1'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="bound"><span>t1'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
        </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>t</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>case</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="keyword1"><span>of</span></span><span> AT </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="bound"><span>t2'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
        </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.urelem_code|const"><span>urelem_code</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.urelem_code|const"><span>urelem_code</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span>
      </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span>
        </span><span class="main"><span>(</span></span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Fresh_Identifiers.Fresh.html#Fresh.fresh_class.fresh|const"><span>fresh</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.vars|const"><span>vars</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.default_class.default|const"><span>default</span></a><span>
         </span><span class="keyword1"><span>in</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Var|const"><span>Var</span></a><span> </span><span class="bound"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Var|const"><span>Var</span></a><span> </span><span class="bound"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
              </span><span class="main"><span>[</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Var|const"><span>Var</span></a><span> </span><span class="bound"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t2</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Var|const"><span>Var</span></a><span> </span><span class="bound"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t1</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bexpand_wit1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.bexpand_wit_def|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_wit_def|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_wit_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Set_Proc_Code.bexpand_wit|const"><span>bexpand_wit</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.concat|const"><span>concat</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_wit1|const"><span>bexpand_wit1</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.Not_Ex_wit_code|fact"><span class="entity_def" id="Set_Proc_Code.Not_Ex_wit_code|thm"><span>Not_Ex_wit_code</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>∄</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span>t1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span>t2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>fm</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>case</span></span><span> </span><span class="bound"><span>fm</span></span><span> </span><span class="keyword1"><span>of</span></span><span>
                        AT </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="bound"><span>t'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>t1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span>t2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>∉</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span>b</span></span><span>
                      </span><span class="main"><span>|</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Logic.html#Logic.fm.splits|fact"><span>fm.splits</span></a><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.splits|fact"><span>pset_atom.splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_13362..13367">lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_if_bexpands_wit|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_wit1_if_bexpands_wit|thm"><span>bexpand_wit1_if_bexpands_wit</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.bexpands_wit|const"><span>bexpands_wit</span></a><span> </span><span class="free"><span>t1</span></span><span> </span><span class="free"><span>t2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Fresh_Identifiers.Fresh.html#Fresh.fresh_class.fresh|const"><span>fresh</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.vars|const"><span>vars</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.default_class.default|const"><span>default</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>bs'</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bs'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_wit1|const"><span>bexpand_wit1</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Equal|const"><span>=<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span>t2</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.bexpands_witD|fact"><span>bexpands_witD</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_13362..13367"><a class="entity_ref" href="Set_Proc_Code.html#offset_13362..13367"><a class="entity_ref" href="Set_Proc_Code.html#offset_13362..13367"><a class="entity_ref" href="Set_Proc_Code.html#offset_13362..13367"><a class="entity_ref" href="Set_Proc_Code.html#offset_13362..13367"><a class="entity_ref" href="Set_Proc_Code.html#offset_13362..13367"><a class="entity_ref" href="Set_Proc_Code.html#offset_13362..13367"><a class="entity_ref" href="Set_Proc_Code.html#offset_13362..13367"><a class="entity_ref" href="Set_Proc_Code.html#offset_13362..13367"><span>assms</span></a></a></a></a></a></a></a></a></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Let_def|fact"><span>Let_def</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.urelem_code_if_mem_subterms|fact"><span>urelem_code_if_mem_subterms</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.Not_Ex_wit_code|fact"><span>Not_Ex_wit_code</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_13659..13664">lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.bexpand_wit_if_bexpands_wit|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_wit_if_bexpands_wit|thm"><span>bexpand_wit_if_bexpands_wit</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.bexpands_wit|const"><span>bexpands_wit</span></a><span> </span><span class="free"><span>t1</span></span><span> </span><span class="free"><span>t2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Fresh_Identifiers.Fresh.html#Fresh.fresh_class.fresh|const"><span>fresh</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.vars|const"><span>vars</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.default_class.default|const"><span>default</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>bs'</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bs'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_wit|const"><span>bexpand_wit</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_13659..13664"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_wit1_if_bexpands_wit|fact"><span>bexpand_wit1_if_bexpands_wit</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.bexpands_witD|fact"><span>bexpands_witD</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_13659..13664"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_wit_def|fact"><span>bexpand_wit_def</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_wit1.simps|fact"><span>bexpand_wit1.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.bexpands_wit_if_bexpand_wit1|fact"><span class="entity_def" id="Set_Proc_Code.bexpands_wit_if_bexpand_wit1|thm"><span>bexpands_wit_if_bexpand_wit1</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_wit1|const"><span>bexpand_wit1</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>t1</span></span><span> </span><span class="bound"><span>t2</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.bexpands_wit|const"><span>bexpands_wit</span></a><span> </span><span class="bound"><span>t1</span></span><span> </span><span class="bound"><span>t2</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="free"><span>b'</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="free"><span>b</span></span></span><span> </span><span class="quoted"><span class="free"><span>l</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_wit1.induct|fact"><span>bexpand_wit1.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_14137..14138">1</span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>t2</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> </span><span class="var"><span>?x</span></span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>t1</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> </span><span class="var"><span>?x</span></span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>t2</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span>
          </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> </span><span class="var"><span>?x</span></span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Fresh_Identifiers.Fresh.html#Fresh.fresh_class.fresh|const"><a class="entity_ref" href="Fresh_Identifiers.Fresh.html#Fresh.fresh_class.fresh|const"><span>fresh</span></a></a><span> </span><span class="main"><span class="main"><span>(</span></span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.vars|const"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.vars|const"><span>vars</span></a></a><span> </span><span class="skolem"><span class="skolem"><span>b</span></span></span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.default_class.default|const"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.default_class.default|const"><span>default</span></a></a><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_14137..14138"><span>1</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Let_def|fact"><span>Let_def</span></a><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.bexpands_wit.simps|fact"><span>bexpands_wit.simps</span></a><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.finite_vars_branch|fact"><span>finite_vars_branch</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Fresh_Identifiers.Fresh.html#Fresh.fresh_class.fresh_notIn|fact"><span>fresh_notIn</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
                   </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.Not_Ex_wit_code|fact"><span>Not_Ex_wit_code</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.urelem_code_if_mem_subterms|fact"><span>urelem_code_if_mem_subterms</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
    
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.bexpands_wit_if_bexpand_wit|fact"><span class="entity_def" id="Set_Proc_Code.bexpands_wit_if_bexpand_wit|thm"><span>bexpands_wit_if_bexpand_wit</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bs'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_wit|const"><span>bexpand_wit</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>t1</span></span><span> </span><span class="bound"><span>t2</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.bexpands_wit|const"><span>bexpands_wit</span></a><span> </span><span class="bound"><span>t1</span></span><span> </span><span class="bound"><span>t2</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="free"><span>bs'</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bs'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_wit|const"><span>bexpand_wit</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>l</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bs'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_wit1|const"><span>bexpand_wit1</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_wit_def|fact"><span>bexpand_wit_def</span></a><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_14721..14723">by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpands_wit_if_bexpand_wit1|fact"><span>bexpands_wit_if_bexpand_wit1</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_14721..14723"><span>this</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
                                
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.bexpand_def|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_def|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Set_Proc_Code.bexpand|const"><span>bexpand</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_nowit|const"><span>bexpand_nowit</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_wit|const"><span>bexpand_wit</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.bexpands_if_bexpand|fact"><span class="entity_def" id="Set_Proc_Code.bexpands_if_bexpand|thm"><span>bexpands_if_bexpand</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bs'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand|const"><span>bexpand</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.bexpands|const"><span>bexpands</span></a><span> </span><span class="free"><span>bs'</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_def|fact"><span>bexpand_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpands_nowit_if_bexpand_nowit|fact"><span>bexpands_nowit_if_bexpand_nowit</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpands_wit_if_bexpand_wit|fact"><span>bexpands_wit_if_bexpand_wit</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.bexpands.intros|fact"><span>bexpands.intros</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UnE|fact"><span>UnE</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_Un|fact"><span>image_Un</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.set_append|fact"><span>set_append</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_15106..15111">lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.Not_bexpands_if_bexpand_empty|fact"><span class="entity_def" id="Set_Proc_Code.Not_bexpands_if_bexpand_empty|thm"><span>Not_bexpands_if_bexpand_empty</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand|const"><span>bexpand</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.bexpands|const"><span>bexpands</span></a><span> </span><span class="free"><span>bs'</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.bexpands|const"><span>bexpands</span></a><span> </span><span class="free"><span>bs'</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_15106..15111"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.bexpands.induct|fact"><span>bexpands.induct</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_15309..15313">case</span></span></span><span> </span><span class="main"><span>(</span></span><span>1</span><span> </span><span class="skolem"><span>bs'</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_nowit_if_bexpands_nowit|fact"><span>bexpand_nowit_if_bexpands_nowit</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_15309..15313"><span>this</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_def|fact"><span>bexpand_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_15441..15442">2</span><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>bs'</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><a class="entity_ref" href="Fresh_Identifiers.Fresh.html#Fresh.fresh_class.fresh_notIn|fact"><span>fresh_notIn</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.finite_vars_branch|fact"><span>finite_vars_branch</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>b</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_15441..15442"><span>2</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>bs''</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.bexpands_wit|const"><span>bexpands_wit</span></a><span> </span><span class="skolem"><span>t1</span></span><span> </span><span class="skolem"><span>t2</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Fresh_Identifiers.Fresh.html#Fresh.fresh_class.fresh|const"><span>fresh</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.vars|const"><span>vars</span></a><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.default_class.default|const"><span>default</span></a><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>bs''</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_15596..15598">by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.bexpands_wit.simps|fact"><span>bexpands_wit.simps</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_15441..15442"><span>2</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_wit_if_bexpands_wit|fact"><span>bexpand_wit_if_bexpands_wit</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_15596..15598"><span>this</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_def|fact"><span>bexpand_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.lin_sat_code|fact"><span class="entity_def" id="Set_Proc_Code.lin_sat_code|thm"><span>lin_sat_code</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Proc.html#Set_Proc.lin_sat|const"><span>lin_sat</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.filter|const"><span>filter</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="bound"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand|const"><span>lexpand</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc.html#Set_Proc.lin_sat_def|fact"><span>lin_sat_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_if_lexpands|fact"><span>lexpand_if_lexpands</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpands_if_lexpand|fact"><span>lexpands_if_lexpand</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.filter_empty_conv|fact"><span>filter_empty_conv</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.sat_code|fact"><span class="entity_def" id="Set_Proc_Code.sat_code|thm"><span>sat_code</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Proc.html#Set_Proc.sat|const"><span>sat</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Set_Proc.html#Set_Proc.lin_sat|const"><span>lin_sat</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand|const"><span>bexpand</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.Not_bexpands_if_bexpand_empty|fact"><span>Not_bexpands_if_bexpand_empty</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpands_if_bexpand|fact"><span>bexpands_if_bexpand</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc.html#Set_Proc.sat_def|fact"><span>sat_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.imageI|fact"><span>imageI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set_intros|fact"><span>list.set_intros</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Graph_Theory.Stuff.html#Stuff.list_exhaust2|fact"><span>list_exhaust2</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.elims|fact"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.induct|fact"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.simps|fact"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.pelims|fact"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.cases|fact"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.termination|fact"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.pinduct|fact"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.psimps|fact"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_rel.inducts|fact"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_rel.simps|fact"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_rel.induct|fact"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_rel.cases|fact"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_rel.intros|fact"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_graph.inducts|fact"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_graph.simps|fact"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_graph.induct|fact"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_graph.cases|fact"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_graph.intros|fact"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.elims(3)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.elims(2)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.elims(1)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.induct|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.simps(10)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.simps(9)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.simps(8)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.simps(7)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.simps(6)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.simps(5)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.simps(4)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.simps(3)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.simps(2)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.simps(1)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.pelims(3)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.pelims(2)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.pelims(1)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.cases|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.termination|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.pinduct|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.psimps(10)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.psimps(9)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.psimps(8)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.psimps(7)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.psimps(6)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.psimps(5)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.psimps(4)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.psimps(3)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.psimps(2)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1.psimps(1)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_rel.inducts|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_rel.simps|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_rel.induct|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_rel.cases|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_graph.inducts|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_graph.simps|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_graph.induct|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_graph.cases|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_graph.intros(10)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_graph.intros(9)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_graph.intros(8)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_graph.intros(7)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_graph.intros(6)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_graph.intros(5)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_graph.intros(4)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_graph.intros(3)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_graph.intros(2)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_graph.intros(1)|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_def|axiom"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_rel_def|axiom"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_sumC_def|axiom"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_graph_def|axiom"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_dom|const"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_rel|const"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_sumC|const"><span class="entity_def" id="Set_Proc_Code.bclosed_code1_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Set_Proc_Code.bclosed_code1|const"><span>bclosed_code1</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.branch|type"><span>branch</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_fm|type"><span>pset_fm</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bclosed_code1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Logic.html#Logic.fm.Neg|const"><span>Neg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>φ</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span>
    </span><span class="free"><span class="bound"><span class="entity"><span>φ</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>∨</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>φ</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span> Atom </span><span class="main"><span>(</span></span><span class="bound"><span>t1</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Equal|const"><span>=<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="bound"><span>t2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="bound"><span>t1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>t2</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bclosed_code1</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Empty|const"><span>∅</span></a></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bclosed_code1</span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.bclosed_code_def|fact"><span class="entity_def" id="Set_Proc_Code.bclosed_code_def|thm"><span class="entity_def" id="Set_Proc_Code.bclosed_code_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Set_Proc_Code.bclosed_code|const"><span>bclosed_code</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span>t</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bclosed_code1|const"><span>bclosed_code1</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_16413..16418">lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.bclosed_code_if_bclosed|fact"><span class="entity_def" id="Set_Proc_Code.bclosed_code_if_bclosed|thm"><span>bclosed_code_if_bclosed</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.bclosed|const"><span>bclosed</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.wf_branch|const"><span>wf_branch</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Typing_Defs.html#Typing_Defs.types|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bclosed_code|const"><span>bclosed_code</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_16413..16418"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.bclosed.induct|fact"><span>bclosed.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_16578..16583">contr</span><span> </span><span class="skolem"><span>φ</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bclosed_code1|const"><span>bclosed_code1</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Logic.html#Logic.fm.Neg|const"><span>Neg</span></a><span> </span><span class="skolem"><span>φ</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_16578..16583"><span>contr</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bclosed_code_def|fact"><span>bclosed_code_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_16716..16724">memEmpty</span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bclosed_code1|const"><span>bclosed_code1</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="main"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Empty|const"><span>∅</span></a></span><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_16716..16724"><span>memEmpty</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bclosed_code_def|fact"><span>bclosed_code_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_16871..16878">neqSelf</span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bclosed_code1|const"><span>bclosed_code1</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AF|const"><span>AF</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Equal|const"><span>=<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_16871..16878"><span>neqSelf</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bclosed_code_def|fact"><span>bclosed_code_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>memberCycle</span><span> </span><span class="skolem"><span>cs</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bclosed_code_def|fact"><span>bclosed_code_def</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Proc.html#Set_Proc.no_member_cycle_if_types_last|fact"><span>no_member_cycle_if_types_last</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.bclosed_if_bclosed_code1|fact"><span class="entity_def" id="Set_Proc_Code.bclosed_if_bclosed_code1|thm"><span>bclosed_if_bclosed_code1</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bclosed_code1|const"><span>bclosed_code1</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.bclosed|const"><span>bclosed</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bclosed_code1.induct|fact"><span>bclosed_code1.induct</span></a><span class="main"><span>)</span></span><span>
     </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.bclosed.intros|fact"><span>bclosed.intros</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Logic.html#Logic.fm.splits|fact"><span>fm.splits</span></a><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.splits|fact"><span>pset_atom.splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.bclosed_if_bclosed_code|fact"><span class="entity_def" id="Set_Proc_Code.bclosed_if_bclosed_code|thm"><span>bclosed_if_bclosed_code</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bclosed_code|const"><span>bclosed_code</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.bclosed|const"><span>bclosed</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bclosed_code_def|fact"><span>bclosed_code_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bclosed_if_bclosed_code1|fact"><span>bclosed_if_bclosed_code1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_17456..17461">lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.bclosed_code|fact"><span class="entity_def" id="Set_Proc_Code.bclosed_code|thm"><span>bclosed_code</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.wf_branch|const"><span>wf_branch</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Typing_Defs.html#Typing_Defs.types|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.bclosed|const"><span>bclosed</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bclosed_code|const"><span>bclosed_code</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_17456..17461"><span>assms</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bclosed_if_bclosed_code|fact"><span>bclosed_if_bclosed_code</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bclosed_code_if_bclosed|fact"><span>bclosed_code_if_bclosed</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.lexpand_safe_def|fact"><span class="entity_def" id="Set_Proc_Code.lexpand_safe_def|thm"><span class="entity_def" id="Set_Proc_Code.lexpand_safe_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Set_Proc_Code.lexpand_safe|const"><span>lexpand_safe</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span>
  </span><span class="keyword1"><span>case</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.filter|const"><span>filter</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="bound"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>⊆</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand|const"><span>lexpand</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>of</span></span><span>
    </span><span class="bound"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span> </span><span class="bound"><span>bs'</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="bound"><span>b'</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.lexpands_lexpand_safe|fact"><span class="entity_def" id="Set_Proc_Code.lexpands_lexpand_safe|thm"><span>lexpands_lexpand_safe</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><a class="entity_ref" href="Set_Proc.html#Set_Proc.lin_sat|const"><span>lin_sat</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.lexpands|const"><span>lexpands</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_safe|const"><span>lexpand_safe</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset|const"><span>⊂</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_safe|const"><span>lexpand_safe</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_safe_def|fact"><span>lexpand_safe_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lin_sat_code|fact"><span>lin_sat_code</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpands_if_lexpand|fact"><span>lexpands_if_lexpand</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.filter_eq_ConsD|fact"><span>filter_eq_ConsD</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.splits|fact"><span>list.splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_17979..17984">lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.wf_branch_lexpand_safe|fact"><span class="entity_def" id="Set_Proc_Code.wf_branch_lexpand_safe|thm"><span>wf_branch_lexpand_safe</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.wf_branch|const"><span>wf_branch</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.wf_branch|const"><span>wf_branch</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_safe|const"><span>lexpand_safe</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_17979..17984"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_18095..18099">have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.wf_branch|const"><span>wf_branch</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_safe|const"><span>lexpand_safe</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><a class="entity_ref" href="Set_Proc.html#Set_Proc.lin_sat|const"><span>lin_sat</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_18095..18099"><span>that</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpands_lexpand_safe|fact"><span>lexpands_lexpand_safe</span></a><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.wf_branch_lexpands|fact"><span>wf_branch_lexpands</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_18226..18230">have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.wf_branch|const"><span>wf_branch</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_safe|const"><span>lexpand_safe</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Proc.html#Set_Proc.lin_sat|const"><span>lin_sat</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_17979..17984"><span>assms</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_18226..18230"><span>that</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lin_sat_code|fact"><span>lin_sat_code</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_safe_def|fact"><span>lexpand_safe_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.bexpand_safe_def|fact"><span class="entity_def" id="Set_Proc_Code.bexpand_safe_def|thm"><span class="entity_def" id="Set_Proc_Code.bexpand_safe_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Set_Proc_Code.bexpand_safe|const"><span>bexpand_safe</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span>
  </span><span class="keyword1"><span>case</span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand|const"><span>bexpand</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span>
    </span><span class="bound"><span>bs'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span> </span><span class="bound"><span>bss'</span></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="bound"><span>bs'</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>]</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.bexpands_bexpand_safe|fact"><span class="entity_def" id="Set_Proc_Code.bexpands_bexpand_safe|thm"><span>bexpands_bexpand_safe</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><a class="entity_ref" href="Set_Proc.html#Set_Proc.sat|const"><span>sat</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Set_Proc.html#Set_Proc.lin_sat|const"><span>lin_sat</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.bexpands|const"><span>bexpands</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_safe|const"><span>bexpand_safe</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_safe_def|fact"><span>bexpand_safe_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.sat_code|fact"><span>sat_code</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpands_if_bexpand|fact"><span>bexpands_if_bexpand</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.splits|fact"><span>list.splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_18677..18682">lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.wf_branch_bexpand_safe|fact"><span class="entity_def" id="Set_Proc_Code.wf_branch_bexpand_safe|thm"><span>wf_branch_bexpand_safe</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.wf_branch|const"><span>wf_branch</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>∀</span></span><span class="bound"><span>b'</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_safe|const"><span>bexpand_safe</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.wf_branch|const"><span>wf_branch</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.wf_branch_expandss|fact"><span>wf_branch_expandss</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_18677..18682"><span>assms</span></a><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.expandss.intros|fact"><span>expandss.intros</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpands_if_bexpand|fact"><span>bexpands_if_bexpand</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_18677..18682"><span>assms</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_safe_def|fact"><span>bexpand_safe_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.splits|fact"><span>list.splits</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.expandss.intros|fact"><span>expandss.intros</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set_intros|fact"><span>list.set_intros</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_sound|fact"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_complete|fact"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_sound|fact"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_complete|fact"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_def|fact"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_dom_if_wf_branch|fact"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch.domintros|fact"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch.pelims|fact"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch.cases|fact"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch.termination|fact"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch.pinduct|fact"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch.psimps|fact"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_rel.inducts|fact"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_rel.simps|fact"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_rel.induct|fact"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_rel.cases|fact"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_rel.intros|fact"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_graph.inducts|fact"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_graph.simps|fact"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_graph.induct|fact"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_graph.cases|fact"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_graph.intros|fact"><span class="entity_def" id="Set_Proc_Code.mlss_naive.bexpands_bexpand|fact"><span class="entity_def" id="Set_Proc_Code.mlss_naive.lexpands_lexpand|fact"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_axioms|fact"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_sound|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_complete|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch.domintros(4)|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch.domintros(3)|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch.domintros(2)|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch.domintros(1)|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch.termination|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_rel.intros(2)|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_rel.intros(1)|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_graph.intros(4)|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_graph.intros(3)|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_graph.intros(2)|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_graph.intros(1)|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.bexpands_bexpand|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.lexpands_lexpand|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_sound|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_complete|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_def|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch.psimps(4)|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch.psimps(3)|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch.psimps(2)|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch.psimps(1)|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_dom_if_wf_branch|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch.pelims(3)|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch.pelims(2)|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch.pelims(1)|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch.cases|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch.pinduct|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_rel.inducts|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_rel.simps|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_rel.induct|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_rel.cases|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_graph.inducts|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_graph.simps|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_graph.induct|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_graph.cases|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_axioms|thm"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc|const"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch|const"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_dom|const"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_rel|const"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_sumC|const"><span class="entity_def" id="Set_Proc_Code.mlss_naive.mlss_proc_branch_graph|const"><span>interpretation</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> mlss_naive</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="Set_Proc.html#Set_Proc.mlss_proc|locale"><span>mlss_proc</span></a><span> </span><span class="quoted"><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_safe|const"><span>lexpand_safe</span></a></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_safe|const"><span>bexpand_safe</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span class="main"><span>(</span></span><span class="operator"><span>unfold_locales</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpands_lexpand_safe|fact"><span>lexpands_lexpand_safe</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpands_bexpand_safe|fact"><span>bexpands_bexpand_safe</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.types_pset_fm_code|fact"><span class="entity_def" id="Set_Proc_Code.types_pset_fm_code|thm"><span>types_pset_fm_code</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>v</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Typing_Defs.html#Typing_Defs.types|const"><span>⊢</span></a></span><span> </span><span class="free"><span>φ</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.solve_constraints|const"><span>solve_constraints</span></a><span> </span><span class="free"><span>φ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Typing_Urelems.html#Typing_Urelems.not_types_fm_if_solve_eq_None|fact"><span>not_types_fm_if_solve_eq_None</span></a><span> </span><a class="entity_ref" href="Typing_Urelems.html#Typing_Urelems.types_pset_fm_assign_solve|fact"><span>types_pset_fm_assign_solve</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Meson/meson_tactic.ML.html#Meson.meson|method"><span class="operator"><span>meson</span></span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.inj_on_name_subterm_subterms|fact"><span>inj_on_name_subterm_subterms</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.not_Some_eq|fact"><span>not_Some_eq</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.foldl_option.elims|fact"><span class="entity_def" id="Set_Proc_Code.foldl_option.induct|fact"><span class="entity_def" id="Set_Proc_Code.foldl_option.simps|fact"><span class="entity_def" id="Set_Proc_Code.foldl_option.pelims|fact"><span class="entity_def" id="Set_Proc_Code.foldl_option.cases|fact"><span class="entity_def" id="Set_Proc_Code.foldl_option.termination|fact"><span class="entity_def" id="Set_Proc_Code.foldl_option.pinduct|fact"><span class="entity_def" id="Set_Proc_Code.foldl_option.psimps|fact"><span class="entity_def" id="Set_Proc_Code.foldl_option_rel.inducts|fact"><span class="entity_def" id="Set_Proc_Code.foldl_option_rel.simps|fact"><span class="entity_def" id="Set_Proc_Code.foldl_option_rel.induct|fact"><span class="entity_def" id="Set_Proc_Code.foldl_option_rel.cases|fact"><span class="entity_def" id="Set_Proc_Code.foldl_option_rel.intros|fact"><span class="entity_def" id="Set_Proc_Code.foldl_option_graph.inducts|fact"><span class="entity_def" id="Set_Proc_Code.foldl_option_graph.simps|fact"><span class="entity_def" id="Set_Proc_Code.foldl_option_graph.induct|fact"><span class="entity_def" id="Set_Proc_Code.foldl_option_graph.cases|fact"><span class="entity_def" id="Set_Proc_Code.foldl_option_graph.intros|fact"><span class="entity_def" id="Set_Proc_Code.foldl_option.elims|thm"><span class="entity_def" id="Set_Proc_Code.foldl_option.induct|thm"><span class="entity_def" id="Set_Proc_Code.foldl_option.simps(3)|thm"><span class="entity_def" id="Set_Proc_Code.foldl_option.simps(2)|thm"><span class="entity_def" id="Set_Proc_Code.foldl_option.simps(1)|thm"><span class="entity_def" id="Set_Proc_Code.foldl_option.pelims|thm"><span class="entity_def" id="Set_Proc_Code.foldl_option.cases|thm"><span class="entity_def" id="Set_Proc_Code.foldl_option.termination|thm"><span class="entity_def" id="Set_Proc_Code.foldl_option.pinduct|thm"><span class="entity_def" id="Set_Proc_Code.foldl_option.psimps(3)|thm"><span class="entity_def" id="Set_Proc_Code.foldl_option.psimps(2)|thm"><span class="entity_def" id="Set_Proc_Code.foldl_option.psimps(1)|thm"><span class="entity_def" id="Set_Proc_Code.foldl_option_rel.inducts|thm"><span class="entity_def" id="Set_Proc_Code.foldl_option_rel.simps|thm"><span class="entity_def" id="Set_Proc_Code.foldl_option_rel.induct|thm"><span class="entity_def" id="Set_Proc_Code.foldl_option_rel.cases|thm"><span class="entity_def" id="Set_Proc_Code.foldl_option_rel.intros|thm"><span class="entity_def" id="Set_Proc_Code.foldl_option_graph.inducts|thm"><span class="entity_def" id="Set_Proc_Code.foldl_option_graph.simps|thm"><span class="entity_def" id="Set_Proc_Code.foldl_option_graph.induct|thm"><span class="entity_def" id="Set_Proc_Code.foldl_option_graph.cases|thm"><span class="entity_def" id="Set_Proc_Code.foldl_option_graph.intros(3)|thm"><span class="entity_def" id="Set_Proc_Code.foldl_option_graph.intros(2)|thm"><span class="entity_def" id="Set_Proc_Code.foldl_option_graph.intros(1)|thm"><span class="entity_def" id="Set_Proc_Code.foldl_option_def|axiom"><span class="entity_def" id="Set_Proc_Code.foldl_option_rel_def|axiom"><span class="entity_def" id="Set_Proc_Code.foldl_option_sumC_def|axiom"><span class="entity_def" id="Set_Proc_Code.foldl_option_graph_def|axiom"><span class="entity_def" id="Set_Proc_Code.foldl_option_dom|const"><span class="entity_def" id="Set_Proc_Code.foldl_option_rel|const"><span class="entity_def" id="Set_Proc_Code.foldl_option_sumC|const"><span class="entity_def" id="Set_Proc_Code.foldl_option_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Set_Proc_Code.foldl_option|const"><span>foldl_option</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>foldl_option</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>foldl_option</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>foldl_option</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>foldl_option</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.monotone_fold_option_conj|fact"><span class="entity_def" id="Set_Proc_Code.monotone_fold_option_conj|thm"><span>monotone_fold_option_conj</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/Partial_Function.html#Partial_Function.partial_function_mono|attribute"><span class="operator"><span>partial_function_mono</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.monotone|const"><span>monotone</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.list_all2|const"><span>list_all2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Partial_Function.html#Partial_Function.option_ord|const"><span>option_ord</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Partial_Function.html#Partial_Function.option_ord|const"><span>option_ord</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.foldl_option|const"><span>foldl_option</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="skolem"><span>ys</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.list_all2|const"><span>list_all2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Partial_Function.html#Partial_Function.option_ord|const"><span>option_ord</span></a><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="skolem"><span>ys</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Partial_Function.html#Partial_Function.option_ord|const"><span>option_ord</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.foldl_option|const"><span>foldl_option</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.foldl_option|const"><span>foldl_option</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>a</span></span><span> </span><span class="skolem"><span>ys</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>xs</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>ys</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>a</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_all2_induct|fact"><span>list_all2_induct</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>Nil</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Partial_Function.html#Partial_Function.option.leq_refl|fact"><span>option.leq_refl</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_19941..19945">Cons</span><span> </span><span class="skolem"><span>xo</span></span><span> </span><span class="skolem"><span>xos</span></span><span> </span><span class="skolem"><span>yo</span></span><span> </span><span class="skolem"><span>yos</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>consider</span></span></span><span>
        </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xo</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>yo</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span>
      </span><span class="main"><span>|</span></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xo</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>yo</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span>
      </span><span class="main"><span>|</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xo</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>yo</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Partial_Function.html#Partial_Function.flat_ord_def|fact"><span>flat_ord_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.exhaust|fact"><span>option.exhaust</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_19941..19945"><span>Cons</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induct.ML.html#HOL.cases|method"><span class="operator"><span>cases</span></span></a><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Partial_Function.html#Partial_Function.option.leq_refl|fact"><span>option.leq_refl</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Partial_Function.html#Partial_Function.flat_ord_def|fact"><span>flat_ord_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_20252..20257">lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.monotone_map|fact"><span class="entity_def" id="Set_Proc_Code.monotone_map|thm"><span>monotone_map</span></span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../../HOL/HOL/Partial_Function.html#Partial_Function.partial_function_mono|attribute"><span class="operator"><span>partial_function_mono</span></span></a><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.monotone|const"><span>monotone</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.list_all2|const"><span>list_all2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Partial_Function.html#Partial_Function.option_ord|const"><span>option_ord</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span>ordb</span></span><span> </span><span class="free"><span>B</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.monotone|const"><span>monotone</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Partial_Function.html#Partial_Function.option.le_fun|const"><span>option.le_fun</span></a><span> </span><span class="free"><span>ordb</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>h</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>B</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="bound"><span>h</span></span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_20252..20257"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Partial_Function.html#Partial_Function.fun_ord_def|fact"><span>fun_ord_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_all2_conv_all_nth|fact"><span>list_all2_conv_all_nth</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.monotone_on_def|fact"><span>monotone_on_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.mlss_proc_branch_partial.fixp_induct|fact"><span class="entity_def" id="Set_Proc_Code.mlss_proc_branch_partial.raw_induct|fact"><span class="entity_def" id="Set_Proc_Code.mlss_proc_branch_partial.mono|fact"><span class="entity_def" id="Set_Proc_Code.mlss_proc_branch_partial.simps|fact"><span class="entity_def" id="Set_Proc_Code.mlss_proc_branch_partial.fixp_induct|thm"><span class="entity_def" id="Set_Proc_Code.mlss_proc_branch_partial.raw_induct|thm"><span class="entity_def" id="Set_Proc_Code.mlss_proc_branch_partial.mono|thm"><span class="entity_def" id="Set_Proc_Code.mlss_proc_branch_partial.simps|thm"><span class="entity_def" id="Set_Proc_Code.mlss_proc_branch_partial_def|axiom"><span>partial_function</span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span>option</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="Set_Proc_Code.mlss_proc_branch_partial|const"><span>mlss_proc_branch_partial</span></span></span><span>
  </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span class="main"><span>::</span></span><span class="main"><span>{</span></span><a class="entity_ref" href="Fresh_Identifiers.Fresh.html#Fresh.fresh|class"><span>fresh</span></a><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.default|class"><span>default</span></a><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.branch|type"><span>branch</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>mlss_proc_branch_partial</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>
    </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><a class="entity_ref" href="Set_Proc.html#Set_Proc.lin_sat|const"><span>lin_sat</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="free"><span>mlss_proc_branch_partial</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_safe|const"><span>lexpand_safe</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bclosed_code|const"><span>bclosed_code</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>
     </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><a class="entity_ref" href="Set_Proc.html#Set_Proc.sat|const"><span>sat</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span>
        </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.foldl_option|const"><span>foldl_option</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>(∧)</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="free"><span>mlss_proc_branch_partial</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b'</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_safe|const"><span>bexpand_safe</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
     </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bclosed_code|const"><span>bclosed_code</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_20898..20903">lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.mlss_proc_branch_partial_eq|fact"><span class="entity_def" id="Set_Proc_Code.mlss_proc_branch_partial_eq|thm"><span>mlss_proc_branch_partial_eq</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.wf_branch|const"><span>wf_branch</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Typing_Defs.html#Typing_Defs.types|const"><span>⊢</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_proc_branch_partial|const"><span>mlss_proc_branch_partial</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_naive.mlss_proc_branch|const"><span>mlss_naive.mlss_proc_branch</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?mlss_part</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="main"><span>(</span></span><span class="var"><span>?mlss</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_naive.mlss_proc_branch_dom_if_wf_branch|fact"><span>mlss_naive.mlss_proc_branch_dom_if_wf_branch</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_20898..20903"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_20898..20903"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_naive.mlss_proc_branch.pinduct|fact"><span>mlss_naive.mlss_proc_branch.pinduct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_21226..21227">1</span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?mlss_part</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_safe|const"><span>lexpand_safe</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_naive.mlss_proc_branch|const"><span>mlss_naive.mlss_proc_branch</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lexpand_safe|const"><span>lexpand_safe</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.wf_branch_lexpand_safe|fact"><span>wf_branch_lexpand_safe</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.wf_branch|const"><span>wf_branch</span></a><span> </span><span class="skolem"><span>b</span></span><span>›</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_21226..21227"><span>1</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_proc_branch_partial.simps|fact"><span>mlss_proc_branch_partial.simps</span></a><span class="main"><span>)</span></span><span>
       </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_naive.mlss_proc_branch.psimps|fact"><span>mlss_naive.mlss_proc_branch.psimps</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>2</span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_proc_branch_partial.simps|fact"><span>mlss_proc_branch_partial.simps</span></a><span class="main"><span>)</span></span><span>
       </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_naive.mlss_proc_branch.psimps|fact"><span>mlss_naive.mlss_proc_branch.psimps</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bclosed_code|fact"><span>bclosed_code</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_21687..21688">3</span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_21699..21703">have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?mlss_part</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="main"><span>(</span></span><span class="var"><span>?mlss</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>if</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_safe|const"><span>bexpand_safe</span></a><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>b'</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_21699..21703"><span>that</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.wf_branch_bexpand_safe|fact"><span>wf_branch_bexpand_safe</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.wf_branch|const"><span>wf_branch</span></a><span> </span><span class="skolem"><span>b</span></span><span>›</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.fastforce|method"><span class="operator"><span>fastforce</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="var"><span>?mlss_part</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b'</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_safe|const"><span>bexpand_safe</span></a><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?mlss</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_safe|const"><span>bexpand_safe</span></a><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.foldl_option|const"><span>foldl_option</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>(∧)</span></a></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="skolem"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="skolem"><span>xs</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>xs</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/induction.ML.html#HOL.induction|method"><span class="operator"><span>induction</span></span></a><span> </span><span class="quoted"><span class="skolem"><span>xs</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>a</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_22133..22141">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_22147..22162">foldl_option_eq</span><span class="main"><span>:</span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.foldl_option|const"><span>foldl_option</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>(∧)</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="var"><span>?mlss_part</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>b'</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_safe|const"><span>bexpand_safe</span></a><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>b'</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bexpand_safe|const"><span>bexpand_safe</span></a><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="var"><span>?mlss</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_22133..22141"><span>calculation</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp_def|fact"><span>comp_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_21687..21688"><span>3</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_proc_branch_partial.simps|fact"><span>mlss_proc_branch_partial.simps</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_22147..22162"><span>foldl_option_eq</span></a><span class="main"><span>)</span></span><span>
       </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bclosed_code|fact"><span>bclosed_code</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_naive.mlss_proc_branch.psimps|fact"><span>mlss_naive.mlss_proc_branch.psimps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>4</span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Tools/eqsubst.ML.html#HOL.subst|method"><span class="operator"><span>subst</span></span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_proc_branch_partial.simps|fact"><span>mlss_proc_branch_partial.simps</span></a><span class="main"><span>)</span></span><span>
       </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_naive.mlss_proc_branch.psimps|fact"><span>mlss_naive.mlss_proc_branch.psimps</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.bclosed_code|fact"><span>bclosed_code</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.mlss_proc_partial_def|fact"><span class="entity_def" id="Set_Proc_Code.mlss_proc_partial_def|thm"><span class="entity_def" id="Set_Proc_Code.mlss_proc_partial_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Set_Proc_Code.mlss_proc_partial|const"><span>mlss_proc_partial</span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>φ</span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_fm|type"><span>pset_fm</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>≡</span></span><span>
  </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.solve_constraints|const"><span>solve_constraints</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>φ</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_proc_branch_partial|const"><span>mlss_proc_branch_partial</span></a><span> </span><span class="main"><span>[</span></span><span class="free"><span class="bound"><span class="entity"><span>φ</span></span></span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.mlss_proc_partial_eq_None|fact"><span class="entity_def" id="Set_Proc_Code.mlss_proc_partial_eq_None|thm"><span>mlss_proc_partial_eq_None</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_proc_partial|const"><span>mlss_proc_partial</span></a><span> </span><span class="free"><span>φ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∄</span></span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Typing_Defs.html#Typing_Defs.types|const"><span>⊢</span></a></span><span> </span><span class="free"><span>φ</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_proc_partial_def|fact"><span>mlss_proc_partial_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.types_pset_fm_code|fact"><span>types_pset_fm_code</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_proc_branch_partial_eq|fact"><span>mlss_proc_branch_partial_eq</span></a><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.wf_branch_singleton|fact"><span>wf_branch_singleton</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last.simps|fact"><span>last.simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.discI|fact"><span>option.discI</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_23021..23026">lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.mlss_proc_partial_complete|fact"><span class="entity_def" id="Set_Proc_Code.mlss_proc_partial_complete|thm"><span>mlss_proc_partial_complete</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_proc_partial|const"><span>mlss_proc_partial</span></a><span> </span><span class="free"><span>φ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>M</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="Logic.html#Logic.interp|const"><span>interp</span></a><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.I\&lt;^sub&gt;s\&lt;^sub&gt;a|const"><span>I<span class="hidden">⇩</span><sub>s</sub><span class="hidden">⇩</span><sub>a</sub></span></a><span> </span><span class="bound"><span>M</span></span><span> </span><span class="free"><span>φ</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_23021..23026"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>v</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Typing_Defs.html#Typing_Defs.types|const"><span>⊢</span></a></span><span> </span><span class="free"><span>φ</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_proc_partial_def|fact"><span>mlss_proc_partial_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.types_pset_fm_code|fact"><span>types_pset_fm_code</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_23241..23249">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_naive.mlss_proc|const"><span>mlss_naive.mlss_proc</span></a><span> </span><span class="free"><span>φ</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_23021..23026"><span>assms</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>v</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Typing_Defs.html#Typing_Defs.types|const"><span>⊢</span></a></span><span> </span><span class="free"><span>φ</span></span><span>›</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_proc_branch_partial_eq|fact"><span>mlss_proc_branch_partial_eq</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_23241..23249"><span>calculation</span></a><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.wf_branch_singleton|fact"><span>wf_branch_singleton</span></a><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_naive.mlss_proc_def|fact"><span>mlss_naive.mlss_proc_def</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_proc_partial_def|fact"><span>mlss_proc_partial_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last.simps|fact"><span>last.simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.discI|fact"><span>option.discI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.inject|fact"><span>option.inject</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_naive.mlss_proc_complete|fact"><span>mlss_naive.mlss_proc_complete</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_23564..23569">lemma</span></span></span><span> </span><span class="entity_def" id="Set_Proc_Code.mlss_proc_partial_sound|fact"><span class="entity_def" id="Set_Proc_Code.mlss_proc_partial_sound|thm"><span>mlss_proc_partial_sound</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_proc_partial|const"><span>mlss_proc_partial</span></a><span> </span><span class="free"><span>φ</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>¬</span></a></span><span> </span><a class="entity_ref" href="Logic.html#Logic.interp|const"><span>interp</span></a><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.I\&lt;^sub&gt;s\&lt;^sub&gt;a|const"><span>I<span class="hidden">⇩</span><sub>s</sub><span class="hidden">⇩</span><sub>a</sub></span></a><span> </span><span class="free"><span>M</span></span><span> </span><span class="free"><span>φ</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_23564..23569"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>v</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Typing_Defs.html#Typing_Defs.types|const"><span>⊢</span></a></span><span> </span><span class="free"><span>φ</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_proc_partial_def|fact"><span>mlss_proc_partial_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.types_pset_fm_code|fact"><span>types_pset_fm_code</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.force|method"><span class="operator"><span>force</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_23778..23786">moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_naive.mlss_proc|const"><span>mlss_naive.mlss_proc</span></a><span> </span><span class="free"><span>φ</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_23564..23569"><span>assms</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>v</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="Typing_Defs.html#Typing_Defs.types|const"><span>⊢</span></a></span><span> </span><span class="free"><span>φ</span></span><span>›</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_proc_branch_partial_eq|fact"><span>mlss_proc_branch_partial_eq</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#offset_23778..23786"><span>calculation</span></a><span> </span><a class="entity_ref" href="Set_Calculus.html#Set_Calculus.wf_branch_singleton|fact"><span>wf_branch_singleton</span></a><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_naive.mlss_proc_def|fact"><span>mlss_naive.mlss_proc_def</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_proc_partial_def|fact"><span>mlss_proc_partial_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/HOL/Tools/Metis/metis_tactic.ML.html#Metis.metis|method"><span class="operator"><span>metis</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last.simps|fact"><span>last.simps</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.discI|fact"><span>option.discI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.inject|fact"><span>option.inject</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_naive.mlss_proc_sound|fact"><span>mlss_naive.mlss_proc_sound</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/blast.ML.html#HOL.blast|method"><span class="operator"><span>blast</span></span></a><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.lin_sat_code|fact"><span>lin_sat_code</span></a><span class="main"><span>[</span></span><span class="operator"><span>code</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.sat_code|fact"><span>sat_code</span></a><span class="main"><span>[</span></span><span class="operator"><span>code</span></span><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_proc_branch_partial.simps|fact"><span>mlss_proc_branch_partial.simps</span></a><span class="main"><span>[</span></span><span class="operator"><span>code</span></span><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>code_identifier</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>code_module</span></span></span><span> Set_Calculus </span><span class="main"><span>⇀</span></span><span> </span><span class="main"><span>(</span></span><span>SML</span><span class="main"><span>)</span></span><span> Set_Proc_Code
  </span><span class="main"><span>|</span></span><span> </span><span class="keyword2"><span class="keyword"><span>code_module</span></span></span><span> Set_Proc </span><span class="main"><span>⇀</span></span><span> </span><span class="main"><span>(</span></span><span>SML</span><span class="main"><span>)</span></span><span> Set_Proc_Code</span><span>
</span><span class="keyword1"><span class="command"><span>export_code</span></span></span><span> </span><span class="quoted"><span class="quoted"><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_proc_partial|const"><span>mlss_proc_partial</span></a></span></span><span> </span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> SML</span><span>

</span><span class="keyword1"><span class="command"><span>context</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>private</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.x_def|fact"><span class="entity_def" id="Set_Proc_Code.x_def|thm"><span class="entity_def" id="Set_Proc_Code.x_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Set_Proc_Code.x|const"><span>x</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Var|const"><span>Var</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>private</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.y_def|fact"><span class="entity_def" id="Set_Proc_Code.y_def|thm"><span class="entity_def" id="Set_Proc_Code.y_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Set_Proc_Code.y|const"><span>y</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Var|const"><span>Var</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>private</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.z_def|fact"><span class="entity_def" id="Set_Proc_Code.z_def|thm"><span class="entity_def" id="Set_Proc_Code.z_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Set_Proc_Code.z|const"><span>z</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Var|const"><span>Var</span></a><span> </span><span class="numeral"><span>2</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>private</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.A_def|fact"><span class="entity_def" id="Set_Proc_Code.A_def|thm"><span class="entity_def" id="Set_Proc_Code.A_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Set_Proc_Code.A|const"><span>A</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Var|const"><span>Var</span></a><span> </span><span class="numeral"><span>3</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>private</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.B_def|fact"><span class="entity_def" id="Set_Proc_Code.B_def|thm"><span class="entity_def" id="Set_Proc_Code.B_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Set_Proc_Code.B|const"><span>B</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Var|const"><span>Var</span></a><span> </span><span class="numeral"><span>4</span></span><span>"</span></span></span><span>


</span><span class="keyword2"><span class="keyword"><span>private</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.Imp_def|fact"><span class="entity_def" id="Set_Proc_Code.Imp_def|thm"><span class="entity_def" id="Set_Proc_Code.Imp_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Set_Proc_Code.Imp|const"><span>Imp</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Imp</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Q</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="Logic.html#Logic.fm.Or|const"><span>Or</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Logic.html#Logic.fm.Neg|const"><span>Neg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Q</span></span></span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>private</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.Subs_pset_def|fact"><span class="entity_def" id="Set_Proc_Code.Subs_pset_def|thm"><span class="entity_def" id="Set_Proc_Code.Subs_pset_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Set_Proc_Code.Subs_pset|const"><span>Subs_pset</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infix</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>⊆<span class="hidden">⇩</span><sub>s</sub></span></span><span>"</span></span><span> 55</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Subs_pset</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_term.Union|const"><span>⊔<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Equal|const"><span>=<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.Imp|const"><span>Imp</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>⟶<span class="hidden">⇩</span><sub>f</sub></span></span><span>"</span></span><span> 47</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><a class="entity_ref" href="Logic.html#Logic.fm.And|const"><span>And</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>∧<span class="hidden">⇩</span><sub>f</sub></span></span><span>"</span></span><span> 49</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>notation</span></span></span><span> </span><a class="entity_ref" href="Logic.html#Logic.fm.Or|const"><span>Or</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>∨<span class="hidden">⇩</span><sub>f</sub></span></span><span>"</span></span><span> 48</span><span class="main"><span>)</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>private</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.subset_trans_fm_def|fact"><span class="entity_def" id="Set_Proc_Code.subset_trans_fm_def|thm"><span class="entity_def" id="Set_Proc_Code.subset_trans_fm_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Set_Proc_Code.subset_trans_fm|const"><span>subset_trans_fm</span></span></span><span> </span><span class="main"><span>≡</span></span><span>
  </span><a class="entity_ref" href="Logic.html#Logic.fm.Neg|const"><span>Neg</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.x|const"><span>x</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.Subs_pset|const"><span>⊆<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.y|const"><span>y</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Logic.html#Logic.fm.And|const"><span>∧<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.y|const"><span>y</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.Subs_pset|const"><span>⊆<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.z|const"><span>z</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.Imp|const"><span>⟶<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.x|const"><span>x</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.Subs_pset|const"><span>⊆<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.z|const"><span>z</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>private</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="Set_Proc_Code.subset_dest_fm_def|fact"><span class="entity_def" id="Set_Proc_Code.subset_dest_fm_def|thm"><span class="entity_def" id="Set_Proc_Code.subset_dest_fm_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Set_Proc_Code.subset_dest_fm|const"><span>subset_dest_fm</span></span></span><span> </span><span class="main"><span>≡</span></span><span>
  </span><a class="entity_ref" href="Logic.html#Logic.fm.Neg|const"><span>Neg</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.A|const"><span>A</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.Subs_pset|const"><span>⊆<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.B|const"><span>B</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Logic.html#Logic.fm.And|const"><span>∧<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.x|const"><span>x</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.A|const"><span>A</span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.Imp|const"><span>⟶<span class="hidden">⇩</span><sub>f</sub></span></a></span><span> </span><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.AT|const"><span>AT</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.x|const"><span>x</span></a><span> </span><span class="keyword1"><a class="entity_ref" href="Set_Semantics.html#Set_Semantics.pset_atom.Elem|const"><span>∈<span class="hidden">⇩</span><sub>s</sub></span></a></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.B|const"><span>B</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>value</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_proc_partial|const"><span>mlss_proc_partial</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.subset_trans_fm|const"><span>subset_trans_fm</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>value</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.mlss_proc_partial|const"><span>mlss_proc_partial</span></a><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.subset_dest_fm|const"><span>subset_dest_fm</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>no_notation</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.Subs_pset|const"><span>Subs_pset</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infix</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>⊆<span class="hidden">⇩</span><sub>s</sub></span></span><span>"</span></span><span> 55</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>no_notation</span></span></span><span> </span><a class="entity_ref" href="Set_Proc_Code.html#Set_Proc_Code.Imp|const"><span>Imp</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>⟶<span class="hidden">⇩</span><sub>f</sub></span></span><span>"</span></span><span> 47</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>no_notation</span></span></span><span> </span><a class="entity_ref" href="Logic.html#Logic.fm.And|const"><span>And</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>∧<span class="hidden">⇩</span><sub>f</sub></span></span><span>"</span></span><span> 49</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>no_notation</span></span></span><span> </span><a class="entity_ref" href="Logic.html#Logic.fm.Or|const"><span>Or</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>infixr</span></span></span><span> </span><span class="quoted"><span>"</span><span class="keyword1"><span>∨<span class="hidden">⇩</span><sub>f</sub></span></span><span>"</span></span><span> 48</span><span class="main"><span>)</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre>
</body>

</html>